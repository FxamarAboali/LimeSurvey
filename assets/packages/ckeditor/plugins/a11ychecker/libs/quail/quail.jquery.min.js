!function(f){Function.prototype.bind=Function.prototype.bind||function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice,e=b.call(arguments,1),c=this,g=function(){},f=function(){return c.apply(this instanceof g?this:a||window,e.concat(b.call(arguments)))};return g.prototype=this.prototype,f.prototype=new g,f};var d={options:{},components:{},lib:{},testabilityTranslation:{0:"suggestion","0.5":"moderate",
1:"severe"},html:null,strings:{},accessibilityResults:{},accessibilityTests:null,guidelines:{wcag:{setup:function(a,b,e){e=e||{};for(var c in this.successCriteria)if(this.successCriteria.hasOwnProperty(c)){var g=this.successCriteria[c];g.registerTests(a);b&&b.listenTo&&"function"==typeof b.listenTo&&e.successCriteriaEvaluated&&b.listenTo(g,"successCriteriaEvaluated",e.successCriteriaEvaluated)}},successCriteria:{}}},tests:{},textSelector:":not(:empty)",suspectPHeaderTags:"strong b em i u font".split(" "),
suspectPCSSStyles:["color","font-weight","font-size","font-family"],focusElements:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",emoticonRegex:/((?::|;|B|P|=)(?:-)?(?:\)|\(|o|O|D|P))/g,selfClosingTags:"area base br col command embed hr img input keygen link meta param source track wbr".split(" "),optionalClosingTags:["p","li","th","tr","td"],run:function(a){function b(a,
c,b){if(b.guideline&&b.guideline.length){a.tests=a.lib.TestCollection([],{scope:a.html||null});for(var e=0,f=b.guideline.length;f>e;++e){var d=b.guideline[e];c[d]&&(c[d].scope=a.html||null,a.tests.set(d,c[d]))}}else a.tests=a.lib.TestCollection(c,{scope:a.html||null})}function e(){if("undefined"!=typeof a.customTests)for(var c in a.customTests)a.customTests.hasOwnProperty(c)&&(a.customTests[c].scope=d.html||null,d.tests.set(c,a.customTests[c]));c=function(){};for(var b in d.guidelines)d.guidelines[b]&&
"function"==typeof d.guidelines[b].setup&&d.guidelines[b].setup(d.tests,this,{successCriteriaEvaluated:a.successCriteriaEvaluated||c});d.tests.run({preFilter:a.preFilter||function(){},caseResolve:a.caseResolve||function(){},testComplete:a.testComplete||function(){},testCollectionComplete:a.testCollectionComplete||function(){},complete:a.complete||function(){}})}if(a.reset&&(d.accessibilityResults={}),d.tests=d.lib.TestCollection([],{scope:d.html||null}),"undefined"!=typeof quailBuilderTests)d.tests=
d.lib.TestCollection(quailBuilderTests,{scope:d.html||null}),e.call(d);else if("wcag2"===a.guideline)d.lib.wcag2.run(a);else if(a.accessibilityTests)b(d,a.accessibilityTests,a),e.call(d);else{var c=a.jsonPath;"string"==typeof a.guideline&&(c+="/guidelines/"+a.guideline);f.ajax({url:c+"/tests.json",dataType:"json",success:function(c){"object"==typeof c&&(b(d,c,a),e.call(d))},error:function(){throw Error("Tests could not be loaded");}})}},listenTo:function(a,b,e){e=e.bind(this);a.registerListener.call(a,
b,e)},getConfiguration:function(a){return(a=(a=(a=(a=this.tests.find(a))&&a.get("guidelines"))&&this.options.guidelineName&&a[this.options.guidelineName])&&a.configuration)?a:!1},isUnreadable:function(a){return"string"!=typeof a?!0:a.trim().length?!1:!0},isDataTable:function(a){if(3>a.find("tr").length)return!1;if(a.find("th[scope]").length)return!0;var b=a.find("tr:has(td)").length,e=a.find("td[rowspan], td[colspan]"),c=!0;if(e.length){var g={};e.each(function(){"undefined"==typeof g[f(this).index()]&&
(g[f(this).index()]=0);g[f(this).index()]++});f.each(g,function(a,e){b>e&&(c=!1)})}a=a.find("table");if(a.length){var m={};a.each(function(){var a=f(this).parent("td").index();!1!==a&&"undefined"==typeof m[a]&&(m[a]=0);m[a]++});f.each(m,function(a,e){b>e&&(c=!1)})}return c},getTextContents:function(a){if(a.is("p, pre, blockquote, ol, ul, li, dl, dt, dd, figure, figcaption"))return a.text();var b="";a=a[0].childNodes;for(var e=0,c=a.length;c>e;e+=1)3===a[e].nodeType&&(b+=a[e].nodeValue);return b},
validURL:function(a){return-1===a.search(" ")},cleanString:function(a){return a.toLowerCase().replace(/^\s\s*/,"")},containsReadableText:function(a,b){if((a=a.clone(),a.find("option").remove(),!d.isUnreadable(a.text()))||!d.isUnreadable(a.attr("alt")))return!0;if(b){var e=!1;if(a.find("*").each(function(){d.containsReadableText(f(this),!0)&&(e=!0)}),e)return!0}return!1}};if(window&&(window.quail=d),f.fn.quail=function(a){return this.length?(d.options=a,d.html=this,d.run(a),this):this},f.expr[":"].quailCss=
function(a,b,e){b=e[3].split(/\s*=\s*/);return-1<f(a).css(b[0]).search(b[1])},d.components.acronym=function(a,b,e){b.get("$scope").each(function(){var a=f(this),g={},m={};a.find("acronym[title], abbr[title]").each(function(){m[f(this).text().toUpperCase().trim()]=f(this).attr("title")});a.find("p, div, h1, h2, h3, h4, h5").each(function(){var a=f(this),c=a.text().split(" "),d=[];1<c.length&&a.text().toUpperCase()!==a.text()?(f.each(c,function(a,c){2>c.length||(c=c.replace(/[^a-zA-Zs]/,""),c.toUpperCase()===
c&&"undefined"==typeof m[c.toUpperCase().trim()]&&("undefined"==typeof g[c.toUpperCase()]&&d.push(c),g[c.toUpperCase()]=c))}),b.add(d.length?e({element:this,expected:a.closest(".quail-test").data("expected"),info:{acronyms:d},status:"failed"}):e({element:this,expected:a.closest(".quail-test").data("expected"),status:"passed"}))):b.add(e({element:this,expected:a.closest(".quail-test").data("expected"),status:"passed"}))})})},d.components.color=function(){function a(a){return""!==f.trim(a)}var b={cache:{},
getLuminosity:function(a,c){var g="getLuminosity_"+a+"_"+c;if(a=b.parseColor(a),c=b.parseColor(c),void 0!==b.cache[g])return b.cache[g];var f,d,h=a.r/255,l=a.g/255,p=a.b/255,h=.03928>=h?h/12.92:Math.pow((h+.055)/1.055,2.4),l=.03928>=l?l/12.92:Math.pow((l+.055)/1.055,2.4),p=.03928>=p?p/12.92:Math.pow((p+.055)/1.055,2.4),n=c.r/255,q=c.g/255,t=c.b/255,n=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4),q=.03928>=q?q/12.92:Math.pow((q+.055)/1.055,2.4),t=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4);return f=
.2126*h+.7152*l+.0722*p,d=.2126*n+.7152*q+.0722*t,b.cache[g]=Math.round((Math.max(f,d)+.05)/(Math.min(f,d)+.05)*10)/10,b.cache[g]},fetchImageColorAtPixel:function(a,c,b){c="undefined"!=typeof c?c:1;b="undefined"!=typeof b?b:1;var f=document.createElement("canvas").getContext("2d");f.drawImage(a,0,0);a=f.getImageData(c,b,1,1).data;return"rgb("+a[0]+","+a[1]+","+a[2]+")"},testElmContrast:function(a,c,g){var f=b.getColor(c,"background");return b.testElmBackground(a,c,f,g)},testElmBackground:function(a,
c,g,f){var d,h=b.getColor(c,"foreground");return"wcag"===a?d=b.passesWCAGColor(c,h,g,f):"wai"===a&&(d=b.passesWAIColor(h,g)),d},passesWCAGColor:function(a,c,g,f){var k=d.components.convertToPx(a.css("fontSize"));"undefined"==typeof f&&(18<=k?f=3:(a=a.css("fontWeight"),f=14<=k&&("bold"===a||700<=parseInt(a,10))?3:4.5));return b.getLuminosity(c,g)>f},passesWAIColor:function(a,c){var g=b.getWAIErtContrast(a,c),f=b.getWAIErtBrightness(a,c);return 500<g&&125<f},getWAIErtContrast:function(a,c){var g=b.getWAIDiffs(a,
c);return g.red+g.green+g.blue},getWAIErtBrightness:function(a,c){var g=b.getWAIDiffs(a,c);return(299*g.red+587*g.green+114*g.blue)/1E3},getWAIDiffs:function(a,c){return{red:Math.abs(a.r-c.r),green:Math.abs(a.g-c.g),blue:Math.abs(a.b-c.b)}},getColor:function(a,c){var g=b;a.attr("data-cacheId")||a.attr("data-cacheId","id_"+Math.random());var m="getColor_"+c+"_"+a.attr("data-cacheId");if(void 0!==b.cache[m])return b.cache[m];if("foreground"===c)return b.cache[m]=a.css("color")?a.css("color"):"rgb(0,0,0)",
b.cache[m];var d=a.css("background-color");return b.hasBackgroundColor(d)?(b.cache[m]=d,b.cache[m]):(a.parents().each(function(){var a=f(this).css("background-color");return b.hasBackgroundColor(a)?g.cache[m]=a:void 0}),b.cache[m]="rgb(255,255,255)",b.cache[m])},getForeground:function(a){return b.getColor(a,"foreground")},parseColor:function(a){return"object"==typeof a?a:"#"===a.substr(0,1)?{r:parseInt(a.substr(1,2),16),g:parseInt(a.substr(3,2),16),b:parseInt(a.substr(5,2),16),a:!1}:"rgb"===a.substr(0,
3)?(a=a.replace("rgb(","").replace("rgba(","").replace(")","").split(","),{r:a[0],g:a[1],b:a[2],a:"undefined"==typeof a[3]?!1:a[3]}):void 0},getBackgroundImage:function(a){a.attr("data-cacheId")||a.attr("data-cacheId","id_"+Math.random());var c="getBackgroundImage_"+a.attr("data-cacheId");if(void 0!==b.cache[c])return b.cache[c];for(a=a[0];a&&1===a.nodeType&&"BODY"!==a.nodeName&&"HTML"!==a.nodeName;){var g=f(a).css("background-image");if(g&&"none"!==g&&-1!==g.search(/^(.*?)url(.*?)$/i))return b.cache[c]=
g.replace("url(","").replace(/['"]/g,"").replace(")",""),b.cache[c];a=a.parentNode}return b.cache[c]=!1,!1},getBackgroundGradient:function(a){a.attr("data-cacheId")||a.attr("data-cacheId","id_"+Math.random());var c="getBackgroundGradient_"+a.attr("data-cacheId");if(void 0!==b.cache[c])return b.cache[c];var g=function(a){return""!==f.trim(a)};for(a=a[0];a&&1===a.nodeType&&"BODY"!==a.nodeName&&"HTML"!==a.nodeName&&!b.hasBackgroundColor(f(a).css("background-color"));){var m=f(a).css("backgroundImage");
if(m&&"none"!==m&&-1!==m.search(/^(.*?)gradient(.*?)$/i)&&(m=m.match(/gradient(\(.*\))/g),0<m.length))return m=m[0].replace(/(linear|radial|from|\bto\b|gradient|top|left|bottom|right|\d*%)/g,""),b.cache[c]=f.grep(m.match(/(rgb\([^\)]+\)|#[a-z\d]*|[a-z]*)/g),g),b.cache[c];a=a.parentNode}return b.cache[c]=!1,!1},getAverageRGB:function(a){var c=a.src;if(void 0!==b.cache[c])return b.cache[c];var g,f,d,h={r:0,g:0,b:0};f=document.createElement("canvas");var l=f.getContext&&f.getContext("2d"),p=-4,n={r:0,
g:0,b:0,a:0},q=0;if(!l)return b.cache[c]=h,h;d=f.height=a.height;f=f.width=a.width;l.drawImage(a,0,0);try{g=l.getImageData(0,0,f,d)}catch(t){return b.cache[c]=h,h}for(a=g.data.length;(p+=20)<a;)++q,n.r+=g.data[p],n.g+=g.data[p+1],n.b+=g.data[p+2];return n.r=~~(n.r/q),n.g=~~(n.g/q),n.b=~~(n.b/q),b.cache[c]=n,n},colorToHex:function(a){var c=/rgba?\((\d+), (\d+), (\d+)/.exec(a);return c?"#"+(16777216|c[1]<<16|c[2]<<8|c[3]).toString(16).substr(1):a},hasBackgroundColor:function(a){return"rgba(0, 0, 0, 0)"!==
a&&"transparent"!==a},traverseVisualTreeForBackground:function(e,c){e.attr("data-cacheId")||e.attr("data-cacheId","id_"+Math.random());var g="traverseVisualTreeForBackground_"+e.attr("data-cacheId")+"_"+c;if(void 0!==b.cache[g])return b.cache[g];var m,d=[];e[0].scrollIntoView();var h=e.offset().left-f(window).scrollLeft(),l=e.offset().top-f(window).scrollTop();d.push({element:e,visibility:e.css("visibility")});e.css("visibility","hidden");for(var p=document.elementFromPoint(h,l);void 0===m&&p&&"BODY"!==
p.tagName&&"HTML"!==p.tagName;){var p=f(p),n,q=p.css("backgroundColor");switch(c){case "background-color":b.hasBackgroundColor(q)&&(m=q);break;case "background-gradient":if(b.hasBackgroundColor(q)){m=!1;continue}if(n=p.css("backgroundImage"),n&&"none"!==n&&-1!==n.search(/^(.*?)gradient(.*?)$/i))q=n.match(/gradient(\(.*\))/g),0<q.length&&(q=q[0].replace(/(linear|radial|from|\bto\b|gradient|top|left|bottom|right|\d*%)/g,""),m=f.grep(q.match(/(rgb\([^\)]+\)|#[a-z\d]*|[a-z]*)/g),a));break;case "background-image":if(b.hasBackgroundColor(q)){m=
!1;continue}(n=p.css("backgroundImage"))&&"none"!==n&&-1!==n.search(/^(.*?)url(.*?)$/i)&&(m=n.replace("url(","").replace(/['"]/g,"").replace(")",""))}d.push({element:p,visibility:p.css("visibility")});p.css("visibility","hidden");p=document.elementFromPoint(h,l)}for(h=0;h<d.length;h++)d[h].element.css("visibility",d[h].visibility);return b.cache[g]=m,m},getBehindElementBackgroundColor:function(a){return b.traverseVisualTreeForBackground(a,"background-color")},getBehindElementBackgroundGradient:function(a){return b.traverseVisualTreeForBackground(a,
"background-gradient")},getBehindElementBackgroundImage:function(a){return b.traverseVisualTreeForBackground(a,"background-image")}};return{colors:b,textShouldBeTested:function(a){a=a.parentNode;var c=f(a);return 1!==a.nodeType?!1:-1!=="script style title object applet embed template noscript".split(" ").indexOf(a.nodeName.toLowerCase())?!1:d.isUnreadable(c.text())?!1:!0},postInvoke:function(a){var c={};a=a.groupCasesBySelector();for(var b in a)a.hasOwnProperty(b)&&a[b].each(function(a,e){e.get("status")===
c&&(c[b]="")});return Object.keys(c).length===Object.keys(a).length},buildCase:function(a,c,b,f,k,h){a.add(c({element:b,expected:d.components.resolveExpectation(b,k),message:h,status:f}))}}}(),d.components.content={findContent:function(a){var b=a;return a.is("[role\x3dmain]")?a:a.find("[role\x3dmain]").length?a.find("[role\x3dmain]").first():0===a.find("p").length?a:(a.find("p").each(function(){var a=f(this).parent(),c=a.get(0),g=a.data("content-score")||0;a.data("content-score")||(g=a.find("p").length,
c.className.match(/(comment|meta|footer|footnote)/)?g-=50:c.className.match(/((^|\\s)(post|hentry|entry[-]?(content|text|body)?|article[-]?(content|text|body)?)(\\s|$))/)&&(g+=25),c.id.match(/(comment|meta|footer|footnote)/)?g-=50:c.id.match(/^(post|hentry|entry[-]?(content|text|body)?|article[-]?(content|text|body)?)$/)&&(g+=25),a.data("content-score",g));g+=f(this).text().split(",").length;("undefined"==typeof b.data("content-score")||g>b.data("content-score"))&&(b=a)}),b)}},d.components.convertToPx=
function(a){if(-1<a.search("px"))return parseInt(a,10);a=f('\x3cdiv style\x3d"display: none; font-size: 1em; margin: 0; padding:0; height: '+a+'; line-height: 1; border:0;"\x3e\x26nbsp;\x3c/div\x3e').appendTo(d.html);var b=a.height();return a.remove(),b},d.components.event=function(a,b,e,c){var g=b.get("$scope"),g=c.selector&&g.find(c.selector)||g.find("*"),m=c.searchEvent||"",d=c.correspondingEvent||"";g.each(function(){var c,g=m.replace("on",""),p=a.components.hasEventListener(f(this),g);f._data&&
(c=f._data(this,"events"));c=c&&c[g]&&!!c[g].length;var g=!!d.length,n=a.components.hasEventListener(f(this),d.replace("on","")),q=f(this).closest(".quail-test").data("expected");b.add(e({element:this,expected:q})).set(!p&&!c||g&&n?{status:"passed"}:{status:"failed"})})},d.components.hasEventListener=function(a,b){return"undefined"!=typeof f(a).attr("on"+b)?!0:f._data(f(a)[0],"events")&&"undefined"!=typeof f._data(f(a)[0],"events")[b]?!0:f(a).is("a[href], input, button, video, textarea")&&"undefined"!=
typeof f(a)[0][b]&&("click"===b||"focus"===b)&&-1<f(a)[0][b].toString().search(/^\s*function\s*(\b[a-z$_][a-z0-9$_]*\b)*\s*\((|([a-z$_][a-z0-9$_]*)(\s*,[a-z$_][a-z0-9$_]*)*)\)\s*{\s*\[native code\]\s*}\s*$/i)?!1:"undefined"!=typeof f(a)[0][b]},d.components.headingLevel=function(a,b,e,c){var g=!1;b.get("$scope").find(":header").each(function(){var m=parseInt(f(this).get(0).tagName.substr(-1,1),10);b.add(g===c.headingLevel&&m>g+1?e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):
e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}));g=m})},d.components.htmlSource={getHtml:function(a){if("undefined"!=typeof d.options.htmlSource&&d.options.htmlSource)return void a(d.options.htmlSource,this.parseHtml(d.options.htmlSource));var b=f.ajax({url:window.location.href,async:!1});b&&"undefined"!=typeof b.responseText&&a(b.responseText,this.parseHtml(b.responseText))},traverse:function(a,b,e,c){var g=this;"undefined"==typeof c&&b(a,e,!1);"undefined"!=typeof a.children&&
(a.childCount=1,f.each(a.children,function(c,e){b(e,a.childCount,a);g.traverse(e,b,a.childCount,!0);"tag"===e.type&&a.childCount++}));f.isArray(a)&&f.each(a,function(a,c){g.traverse(c,b)})},addSelector:function(a,b,e){if("tag"===a.type&&"undefined"!=typeof a.name&&"undefined"==typeof a.selector)return a.selector=e&&"undefined"!=typeof e.selector?e.selector.slice():[],e=a.name,"undefined"!=typeof a.attributes&&("undefined"!=typeof a.attributes.id?e+="#"+a.attributes.id[0]:"undefined"!=typeof a.attributes["class"]&&
(e+="."+a.attributes["class"][0].replace(/\s/,"."))),!b||"undefined"!=typeof a.attributes&&"undefined"!=typeof a.attributes.id||(e+=":nth-child("+b+")"),a.selector.push(e),a.selector},parseHtml:function(a){if("undefined"==typeof Tautologistics)return!1;a=a.replace(/<!doctype ([^>]*)>/g,"");var b=new Tautologistics.NodeHtmlParser.HtmlBuilder(function(){},{});(new Tautologistics.NodeHtmlParser.Parser(b)).parseComplete(a);a=b.dom;return this.traverse(a,this.addSelector),a}},"undefined"!=typeof Tautologistics)Tautologistics.NodeHtmlParser.HtmlBuilder.prototype.write=
function(a){if(this._done&&this.handleCallback(Error("Writing to the builder after done() called is not allowed without a reset()")),this._options.includeLocation&&"attr"!==a.type&&(a.location=this._getLocation(),this._updateLocation(a)),"text"!==a.type||!this._options.ignoreWhitespace||!HtmlBuilder.reWhitespace.test(a.data)){var b,e;if(this._tagStack.last())if(b=this._tagStack.last(),"tag"===a.type)if("/"===a.name.charAt(0)){if(e=this._options.caseSensitiveTags?a.name.substring(1):a.name.substring(1).toLowerCase(),
b.name===e&&(b.closingTag=!0),!this.isEmptyTag(a)){for(a=this._tagStack.length-1;-1<a&&this._tagStack[a--].name!==e;);if(-1<a||this._tagStack[0].name===e)for(;a<this._tagStack.length-1;)this._tagStack.pop()}}else"attr"===a.type?(b.attributes||(b.attributes={}),"undefined"==typeof b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]&&(b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=[]),b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()].push(a.data)):
(e=this._copyElement(a),b.children||(b.children=[]),b.children.push(e),this.isEmptyTag(e)||this._tagStack.push(e),"tag"===a.type&&(this._lastTag=e));else b=this._tagStack.last(),"attr"===a.type?(b.attributes||(b.attributes={}),"undefined"==typeof b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]&&(b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=[]),b.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()].push(a.data)):(b.children||
(b.children=[]),b.children.push(this._copyElement(a)));else"tag"===a.type?"/"!==a.name.charAt(0)&&(e=this._copyElement(a),e.closingTag=!0,this.dom.push(e),this.isEmptyTag(e)||this._tagStack.push(e),this._lastTag=e):"attr"===a.type&&this._lastTag?(this._lastTag.attributes||(this._lastTag.attributes={}),"undefined"==typeof this._lastTag.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]&&(this._lastTag.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=[]),
this._lastTag.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()].push(a.data)):this.dom.push(this._copyElement(a))}};d.components.htmlTagValidator=function(){var a,b,e,c,g,f,d=/[dD]/,h=/[a-z0-9-]/,l=/^\x3c!--.*--\x3e/,p="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),n=["pre","code","textarea","script","style"],q=["p","li","tr","th","td"],t=function(a){var c=Error("Ending tag not found for: "+a.name+" at line: "+a.line+" char: "+
a["char"]+" starting tags: "+e[0].name);throw c.lineData=a,c;},u=function(g,d,k){h.test(g)?b+=g:"/"===g?a=x:"!"===g?(b="",a=C):-1<p.indexOf(b)?f.strict_self_closing_tags?a=r:(b="",a=v):(e.push({name:b,line:d+1,"char":k}),-1<n.indexOf(b)?(b="",--c,a=z):(b="",--c,a=A))},r=function(c,e,g){if("/"===c)b="",a=w;else if("\x3e"===c)throw c={name:b,line:e+1,"char":g},e=Error("Ending `/` not found for: `"+c.name+"` at line: "+c.line+" char: "+c["char"]),e.lineData=c.name,e;},A=function(c){"\x3e"===c&&(a=w)},
v=function(c){"\x3c"===c&&(a=u)},x=function(c){function g(){var c=e.pop();c.name===b?a=v:-1<q.indexOf(c.name)?g():t(c)}h.test(c)?b+=c:(g(),b="")},B=function(b){"/"===b?a=x:(--c,a=u)},w=function(c){"\x3c"===c&&(a=B)},z=function(c){"\x3c"===c&&(a=y)},y=function(c){"/"===c&&(a=D)},D=function(c){h.test(c)?b+=c:(c=e.pop(),c.name===b?a=v:t(c),b="")},C=function(e){d.test(e)?(b="",a=v):(c-=3,a=E)},E=function(c,b,e){g||(g={content:"",line:b+1,"char":e+1,name:"comment"});g.content+=c;l.test(g.content)&&(g=
null,a=v)};return function(d,k){var p=null;try{var h,n=d.split("\n");a=v;b="";e=[];g=null;f=k||{};for(var l=0,u=n.length;u>l;l++)for(c=0,h=n[l].length;h>c&&a;c++)a(n[l][c],l,c);if(g){var r=Error("Comment ending not found for: `comment` at line: "+g.line+" char: "+g["char"]);throw r.lineData=g,r;}if(0<e.length){var A=e[e.length-1];-1===q.indexOf(A.name)&&t(A)}p=null}catch(x){p=x.message}finally{return p}}}();d.components.label=function(a,b,e,c){b.get("$scope").each(function(){var g=f(this);g.find(c.selector).each(function(){b.add(f(this).parent("label").length&&
g.find("label[for\x3d"+f(this).attr("id")+"]").length&&a.containsReadableText(f(this).parent("label"))||a.containsReadableText(g.find("label[for\x3d"+f(this).attr("id")+"]"))?e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"passed"}):e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"failed"}))})})};d.components.labelProximity=function(a,b,e,c){var g=b.get("$scope");g.find(c.selector).each(function(){var a=g.find("label[for\x3d"+f(this).attr("id")+
"]").first();b.add(e(a.length?f(this).parent().is(a.parent())?{element:this,expected:f(this).closest(".quail-test").data("expected"),status:"passed"}:{element:this,expected:f(this).closest(".quail-test").data("expected"),status:"failed"}:{element:this,expected:f(this).closest(".quail-test").data("expected"),status:"failed"}))})};d.components.language={maximumDistance:300,textDirection:{rtl:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,ltr:/[\u0041-\u007A]|[\u00C0-\u02AF]|[\u0388-\u058F]/gm},
textDirectionChanges:{rtl:/[\u200E]|&rlm;/gm,ltr:/[\u200F]|&lrm;/gm},scripts:{basicLatin:{regularExpression:/[\u0041-\u007F]/g,languages:"ceb en eu ha haw id la nr nso so ss st sw tlh tn ts xh zu af az ca cs cy da de es et fi fr hr hu is it lt lv nl no pl pt ro sk sl sq sv tl tr ve vi".split(" ")},arabic:{regularExpression:/[\u0600-\u06FF]/g,languages:["ar","fa","ps","ur"]},cryllic:{regularExpression:/[\u0400-\u04FF]|[\u0500-\u052F]/g,languages:"bg kk ky mk mn ru sr uk uz".split(" ")}},scriptSingletons:{bn:/[\u0980-\u09FF]/g,
bo:/[\u0F00-\u0FFF]/g,el:/[\u0370-\u03FF]/g,gu:/[\u0A80-\u0AFF]/g,he:/[\u0590-\u05FF]/g,hy:/[\u0530-\u058F]/g,ja:/[\u3040-\u309F]|[\u30A0-\u30FF]/g,ka:/[\u10A0-\u10FF]/g,km:/[\u1780-\u17FF]|[\u19E0-\u19FF]/g,kn:/[\u0C80-\u0CFF]/g,ko:/[\u1100-\u11FF]|[\u3130-\u318F]|[\uAC00-\uD7AF]/g,lo:/[\u0E80-\u0EFF]/g,ml:/[\u0D00-\u0D7F]/g,mn:/[\u1800-\u18AF]/g,or:/[\u0B00-\u0B7F]/g,pa:/[\u0A00-\u0A7F]/g,si:/[\u0D80-\u0DFF]/g,ta:/[\u0B80-\u0BFF]/g,te:/[\u0C00-\u0C7F]/g,th:/[\u0E00-\u0E7F]/g,zh:/[\u3100-\u312F]|[\u2F00-\u2FDF]/g},
getDocumentLanguage:function(a,b){var e=navigator.language||navigator.userLanguage;return"undefined"!=typeof d.options.language&&(e=d.options.language),a.parents("[lang]").length&&(e=a.parents("[lang]:first").attr("lang")),"undefined"!=typeof a.attr("lang")&&(e=a.attr("lang")),e=e.toLowerCase().trim(),b?e.split("-")[0]:e}};d.components.placeholder=function(a,b,e,c){var g=function(a,c){b.add(e({element:a,expected:f(a).closest(".quail-test").data("expected"),status:c}))};b.get("$scope").find(c.selector).each(function(){var b=
"";if("none"===f(this).css("display")&&!f(this).is("title"))return void g(this,"inapplicable");if("undefined"!=typeof c.attribute){if(("undefined"==typeof f(this).attr(c.attribute)||"tabindex"===c.attribute&&0>=f(this).attr(c.attribute))&&!c.content)return void g(this,"failed");f(this).attr(c.attribute)&&"undefined"!==f(this).attr(c.attribute)&&(b+=f(this).attr(c.attribute))}if(("undefined"==typeof c.attribute||!c.attribute||c.content)&&(b+=f(this).text(),f(this).find("img[alt]").each(function(){b+=
f(this).attr("alt")})),"string"==typeof b&&0<b.length){var b=a.cleanString(b),e=/^([0-9]*)(k|kb|mb|k bytes|k byte)$/g.exec(b.toLowerCase());e&&e[0].length?g(this,"failed"):c.empty&&a.isUnreadable(b)?g(this,"failed"):-1<a.strings.placeholders.indexOf(b)?g(this,"failed"):g(this,"passed")}else c.empty&&"number"!=typeof b&&g(this,"failed")})};d.components.resolveExpectation=function(a,b){var e,c=f(a).closest(".quail-test"),g=c.data("expected");b||(e=c.data("expected"));var m="string"==typeof g&&g.split("|");
if(b&&0===m.length&&-1<g.indexOf(":")&&(m=[g]),0<m.length&&1===a.nodeType)for(var d,h=0,l=m.length;l>h;++h)if(g=m[h].split(":"),b){if(g[0]===b){if(!g[1]||"ignore"===g[1])return;e=g[1]}}else if(d=f(g[0],c),1===d.length&&a===d.get(0)){if(!g[1]||"ignore"===g[1])return;e=g[1]}return e};d.components.selector=function(a,b,e,c){this.get("$scope").each(function(){var e=f(this),m=f(this).find(c.selector);m.length?m.each(function(){var e,g=f(this);e=c.test&&!g.is(c.test)?"passed":"failed";b.add(a.lib.Case({element:this,
expected:g.closest(".quail-test").data("expected"),status:e}))}):b.add(a.lib.Case({element:void 0,expected:e.data("expected")||e.find("[data-expected]").data("expected"),status:c.test?"inapplicable":"passed"}))})};d.statistics={setDecimal:function(a,b){var e=Math.pow(10,b||0);return b?Math.round(e*a)/e:a},average:function(a,b){for(var e=a.length,c=0;e--;)c+=a[e];return d.statistics.setDecimal(c/a.length,b)},variance:function(a,b){for(var e=d.statistics.average(a,b),c=a.length,g=0;c--;)g+=Math.pow(a[c]-
e,2);return g/=a.length,d.statistics.setDecimal(g,b)},standardDeviation:function(a,b){var e=Math.sqrt(d.statistics.variance(a,b));return d.statistics.setDecimal(e,b)}};d.components.textStatistics={cleanText:function(a){return a.replace(/[,:;()\-]/," ").replace(/[\.!?]/,".").replace(/[ ]*(\n|\r\n|\r)[ ]*/," ").replace(/([\.])[\. ]+/,"$1").replace(/[ ]*([\.])/,"$1").replace(/[ ]+/," ").toLowerCase()},sentenceCount:function(a){return a.split(".").length+1},wordCount:function(a){return a.split(" ").length+
1},averageWordsPerSentence:function(a){return this.wordCount(a)/this.sentenceCount(a)},averageSyllablesPerWord:function(a){var b=this,e=0,c=b.wordCount(a);return c?(f.each(a.split(" "),function(a,c){e+=b.syllableCount(c)}),e/c):0},syllableCount:function(a){return(a=a.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,"").match(/[aeiouy]{1,2}/g))&&0!==a.length?a.length:1}};d.components.video={isVideo:function(a){var b=!1;return f.each(this.providers,function(){a.is(this.selector)&&this.isVideo(a)&&(b=!0)}),
b},findVideos:function(a,b){f.each(this.providers,function(e,c){a.find(this.selector).each(function(){var a=f(this);c.isVideo(a)&&c.hasCaptions(a,b)})})},providers:{youTube:{selector:"a, iframe",apiUrl:"http://gdata.youtube.com/feeds/api/videos/?q\x3d%video\x26caption\x26v\x3d2\x26alt\x3djson",isVideo:function(a){return!1!==this.getVideoId(a)?!0:!1},getVideoId:function(a){var b=a.is("iframe")?"src":"href";return(a=a.attr(b).match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&\?]*).*/))&&
11===a[7].length?a[7]:!1},hasCaptions:function(a,b){var e=this.getVideoId(a);f.ajax({url:this.apiUrl.replace("%video",e),async:!1,dataType:"json",success:function(c){b(a,0<c.feed.openSearch$totalResults.$t)}})}},flash:{selector:"object",isVideo:function(a){var b=!1;return 0===a.find("param").length?!1:(a.find("param[name\x3dflashvars]").each(function(){-1<f(this).attr("value").search(/\.(flv|mp4)/i)&&(b=!0)}),b)},hasCaptions:function(a,b){var e=!1;a.find("param[name\x3dflashvars]").each(function(){(-1<
f(this).attr("value").search("captions")&&-1<f(this).attr("value").search(".srt")||-1<f(this).attr("value").search("captions.pluginmode"))&&(e=!0)});b(a,e)}},videoElement:{selector:"video",isVideo:function(a){return a.is("video")},hasCaptions:function(a,b){var e=a.find("track[kind\x3dsubtitles], track[kind\x3dcaptions]");if(!e.length)return void b(a,!1);var c=d.components.language.getDocumentLanguage(a,!0);a.parents("[lang]").length&&(c=a.parents("[lang]").first().attr("lang").split("-")[0]);var g=
!1;return e.each(function(){if(!f(this).attr("srclang")||f(this).attr("srclang").toLowerCase()===c){g=!0;try{404===f.ajax({url:f(this).attr("src"),type:"HEAD",async:!1,error:function(){}}).status&&(g=!1)}catch(a){}}}),g?void b(a,!0):void b(a,!1)}}}};d.strings.colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",
chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",
dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",
lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",
mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",
seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};d.strings.languageCodes="bh bi nb bs br bg my es ca km ch ce ny ny zh za cu cu cv kw co cr hr cs da dv dv nl dz en eo et ee fo fj fi nl fr ff gd gl lg ka de ki el kl gn gu ht ht ha he hz hi ho hu is io ig id ia ie iu ik ga it ja jv kl kn kr ks kk ki rw ky kv kg ko kj ku kj ky lo la lv lb li li li ln lt lu lb mk mg ms ml dv mt gv mi mr mh ro ro mn na nv nv nd nr ng ne nd se no nb nn ii ny nn ie oc oj cu cu cu or om os os pi pa ps fa pl pt pa ps qu ro rm rn ru sm sg sa sc gd sr sn ii sd si si sk sl so st nr es su sw ss sv tl ty tg ta tt te th bo ti to ts tn tr tk tw ug uk ur ug uz ca ve vi vo wa cy fy wo xh yi yo za zu".split(" ");
d.strings.newWindow=[/new (browser )?(window|frame)/,/popup (window|frame)/];d.strings.placeholders="title,untitled,untitled document,this is the title,the title,content, ,new page,new,nbsp,\x26nbsp;,spacer,image,img,photo,frame,frame title,iframe,iframe title,legend".split(",");d.strings.redundant={inputImage:["submit","button"],link:"link to;link;go to;click here;link;click;more".split(";"),required:["*"]};d.strings.siteMap=["site map","map","sitemap"];d.strings.skipContent=[/(jump|skip) (.*) (content|main|post)/i];
d.strings.suspiciousLinks="click here,click,more,here,read more,download,add,delete,clone,order,view,read,clic aqu\x26iacute;,clic,haga clic,m\x26aacute;s,aqu\x26iacute;,image".split(",");d.strings.symbols=["|","*",/\*/g,"\x3cbr\x3e*","\x26bull;","\x26#8226","♦","›","»","‣","▶",".","◦","✓","◽","•","—","◾"];d.KINGStrongList=function(a,b,e){b.get("$scope").find("strong").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set({status:f(this).parent().is("li")?
"passed":"failed"})})};d.KINGUseCurrencyAsSymbol=function(a,b,e){b.get("$scope").find("p").each(function(c,g){var m="dollar euro pound franc krona rupee ruble dinar".split(" "),m=new RegExp("\\d{1,}\\s*("+m.join("|")+")\\w*\\b|("+m.join("|")+")\\w*\\b\\s*\\d{1,}","ig"),d=a.getTextContents(f(g)),h=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(h);h.set({status:m.test(d)?"failed":"passed"})})};d.KINGUseLongDateFormat=function(a,b,e){b.get("$scope").find("a, article, aside, b, blockquote, caption, cite, dd, del, div, em, figcaption, footer, h1, h2, h3, h4, h5, h6, header, i, label, legend, li, mark, nav, option, p, q, s, section, small, span, strong, sub, summary, sup, td, th, title, u").each(function(a,
g){var m,d=/\d{1,2}([./-])\d{1,2}\1\d{2,4}/g,h=g.childNodes,l=!1,p=[],n=0;for(m=h.length;m>n;n++)h[n].nodeType===Node.TEXT_NODE&&p.push(h[n]);for(n=0;n<p.length&&!l;n++)d.test(p[n].nodeValue)&&(l=!0);m=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(m);m.set({status:l?"failed":"passed"})})};d.KINGUsePercentageWithSymbol=function(a,b,e){b.get("$scope").find("p").each(function(c,g){var m=["percent","pct\\."],m=new RegExp("\\d{1,}\\s*("+m.join("|")+")|("+m.join("|")+
")\\s*\\d{1,}","ig"),d=a.getTextContents(f(g)),h=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(h);h.set({status:m.test(d)?"failed":"passed"})})};d.aAdjacentWithSameResourceShouldBeCombined=function(a,b,e){function c(a,c){var g=f(c),d=c.getAttribute("href"),p=g.find("+ a");if(p.length){var p=p[0].getAttribute("href"),n="passed",g=e({element:c,expected:g.closest(".quail-test").data("expected")});d===p&&(n="failed");b.add(g);g.set({status:n})}}function g(a,c){var g=
e({element:c});b.add(g);g.set({status:"inapplicable",expected:f(c).closest(".quail-test").data("expected")})}b.get("$scope").each(function(a,b){var e=f(b),d=0<e.find("a + a").length;e.find("a").each(d?c:g)})};d.aImgAltNotRepetitive=function(a,b,e){b.get("$scope").find("a img[alt]").each(function(){var c=b.add(e({element:this})),g=f(this).closest(".quail-test").data("expected");c.set(a.cleanString(f(this).attr("alt"))===a.cleanString(f(this).parent("a").text())?{expected:g,status:"failed"}:{expected:g,
status:"passed"})})};d.aInPHasADistinctStyle=function(a,b,e){function c(a){return 0<a.outerWidth()-a.innerWidth()||0<a.outerHeight()-a.innerHeight()}function g(a,b){var e=!1,g=["font-weight","font-style"],d=a.css("text-decoration");return"none"!==d&&d!==b.css("text-decoration")&&(e=!0),"rgba(0, 0, 0, 0)"!==a.css("background-color")&&g.push("background"),f.each(g,function(c,g){e||a.css(g)===b.css(g)||(e=!0)}),e||c(a)}var d=/^([\s|-]|>|<|\\|\/|&(gt|lt);)*$/i;b.get("$scope").each(function(){f(this).find("p a[href]:visible").each(function(){var a=
f(this),c=a.closest("p"),l=a.parent(),p=e({element:this,expected:a.closest(".quail-test").data("expected")});b.add(p);var n=a.text().trim(),q=c.clone().find("a[href]").remove().end().text();if(""===n||q.match(d))p.set("status","inapplicable");else if(a.css("color")===c.css("color"))p.set("status","passed");else if(g(a,c))p.set("status","passed");else{var q="block"===a.css("display"),t=a.css("position");q||"relative"!==t&&"static"!==t?p.set("status","passed"):0<a.find("img").length?p.set("status",
"passed"):l.text().trim()===n&&g(l,c)?p.set("status","passed"):p.set("status","failed")}})})};d.aLinkTextDoesNotBeginWithRedundantWord=function(a,b,e){b.get("$scope").find("a").each(function(){var c=f(this),g="";f(this).find("img[alt]").length&&(g+=f(this).find("img[alt]:first").attr("alt"));var g=g+f(this).text(),g=g.toLowerCase(),d;f.each(a.strings.redundant.link,function(a,f){-1<g.search(f)&&(d=b.add(e({element:this,expected:c.closest(".quail-test").data("expected"),status:"failed"})))});d||b.add(e({element:this,
expected:c.closest(".quail-test").data("expected"),status:"passed"}))})};d.aLinkWithNonText=function(a,b,e){b.get("$scope").find("a").each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});if(b.add(c),!f(this).is("a:has(img, object, embed)[href]"))return void c.set({status:"inapplicable"});if(!a.isUnreadable(f(this).text()))return void c.set({status:"passed"});var g=0;f(this).find("img, object, embed").each(function(){(f(this).is("img")&&a.isUnreadable(f(this).attr("alt"))||
!f(this).is("img")&&a.isUnreadable(f(this).attr("title")))&&g++});c.set(f(this).find("img, object, embed").length===g?{status:"failed"}:{status:"passed"})})};d.aLinksAreSeparatedByPrintableCharacters=function(a,b,e){b.get("$scope").find("a").each(function(){var c=b.add(e({element:this})),g=f(this).closest(".quail-test").data("expected");f(this).next("a").length&&c.set(a.isUnreadable(f(this).get(0).nextSibling.wholeText)?{expected:g,status:"failed"}:{expected:g,status:"passed"})})};d.aLinksDontOpenNewWindow=
function(a,b,e){b.get("$scope").find("a").not("[target\x3d_new], [target\x3d_blank]").each(function(){b.add(e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"passed"}))});b.get("$scope").find("a[target\x3d_new], a[target\x3d_blank]").each(function(){var c=f(this),g=!1,d=0,k=c.text()+" "+c.attr("title"),h="";do h=a.strings.newWindow[d],-1<k.search(h)&&(g=!0),++d;while(!g&&d<a.strings.newWindow.length);b.add(e(g?{element:this,expected:c.closest(".quail-test").data("expected"),
status:"passed"}:{element:this,expected:c.closest(".quail-test").data("expected"),status:"failed"}))})};d.aLinksNotSeparatedBySymbols=function(a,b,e){b.get("$scope").find("a").each(function(){var c=f(this);if(c.next("a").length){var g=c.get(0).nextSibling.wholeText;"string"==typeof g?-1!==a.strings.symbols.indexOf(g.toLowerCase().trim())&&b.add(e({element:this,expected:c.closest(".quail-test").data("expected"),status:"failed"})):b.add(e({element:this,expected:c.closest(".quail-test").data("expected"),
status:"passed"}))}else b.add(e({status:"inapplicable"}))})};d.aMustContainText=function(a,b,e){b.get("$scope").find("a").each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});return b.add(c),f(this).attr("href")&&"none"!==f(this).css("display")?void c.set(a.containsReadableText(f(this),!0)?{status:"passed"}:{status:"failed"}):void c.set({status:"inapplicable"})})};d.aSuspiciousLinkText=function(a,b,e){b.get("$scope").find("a").each(function(){var c=e({element:this,
expected:f(this).closest(".quail-test").data("expected")});if(b.add(c),!f(this).attr("href"))return void c.set({status:"inapplicable"});var g=f(this).text();f(this).find("img[alt]").each(function(){g+=f(this).attr("alt")});c.set(-1<a.strings.suspiciousLinks.indexOf(a.cleanString(g))?{status:"failed"}:{status:"passed"})})};d.animatedGifMayBePresent=function(a,b,e){function c(a,c,b){if("gif"!==c)return void b(!1);var e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.addEventListener("load",
function(){var a=new Uint8Array(e.response),c=0;if(71!==a[0]||73!==a[1]||70!==a[2]||56!==a[3])return void b(!1);for(var g=0;g<a.length-9;g++)if(0!==a[g]||33!==a[g+1]||249!==a[g+2]||4!==a[g+3]||0!==a[g+8]||44!==a[g+9]&&33!==a[g+9]||c++,1<c)return void b(!0);b(!1)});e.send()}b.get("$scope").find("img").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var d=f(this).attr("src"),k=f(this).attr("src").split(".").pop().toLowerCase();return"gif"!==
k?void a.set({status:"inapplicable"}):void c(d,k,function(c){return c?void a.set({status:"cantTell"}):void a.set({status:"inapplicable"})})})};d.appletContainsTextEquivalent=function(a,b,e){b.get("$scope").find('applet[alt\x3d""], applet:not(applet[alt])').each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(c);c.set(a.isUnreadable(f(this).text())?{status:"failed"}:{status:"passed"})})};d.ariaOrphanedContent=function(a,b,e){b.get("$scope").each(function(){var a=
f(this),g=!!a.attr("role"),d=!!a.find("[role]").length;if(!g&&!d)return void b.add(e({expected:a.data("expected"),status:"inapplicable"}));g=a.find("*:not(*[role] *, *[role], script, meta, link)");g.length?g.each(function(){b.add(e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"failed"}))}):b.add(e({expected:a.data("expected"),status:"passed"}))})};d.audioMayBePresent=function(a,b,e){var c="mp3 m4p ogg oga opus wav wma wv".split(" ");b.get("$scope").each(function(){var a=
f(this),d=!1;a.find("object, audio").each(function(){d=!0;b.add(e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"cantTell"}))});a.find("a[href]").each(function(){var a=f(this),g=a.attr("href").split(".").pop();-1!==f.inArray(g,c)&&(d=!0,b.add(e({element:this,expected:a.closest(".quail-test").data("expected"),status:"cantTell"})))});d||b.add(e({element:this,status:"inapplicable",expected:f(this).closest(".quail-test").data("expected")}))})};d.blockquoteUseForQuotations=
function(a,b,e){b.get("$scope").find("p").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});return b.add(a),0<f(this).parents("blockquote").length?void a.set({status:"inapplicable"}):void a.set(-1<f(this).text().substr(0,1).search(/'|"|«|“|「/)&&-1<f(this).text().substr(-1,1).search(/'|"|»|„|」/)?{status:"failed"}:{status:"passed"})})};d.closingTagsAreUsed=function(a,b,e){a.components.htmlSource.getHtml(function(c,g){a.components.htmlSource.traverse(g,
function(c){if("tag"===c.type&&f.isArray(c.selector)){var g;g=/#/.test(c.selector.slice(-1)[0])?c.selector.slice(-1)[0]:c.selector.join(" \x3e ");var d=f(g,b.get("$scope")).get(0);d||(d=c.raw||g);b.add("undefined"!=typeof c.closingTag||c.closingTag||-1!==a.selfClosingTags.indexOf(c.name.toLowerCase())?e({element:d,expected:"object"==typeof d&&1===d.nodeType&&f(d).closest(".quail-test").data("expected")||null,status:"passed"}):e({element:d,expected:"object"==typeof d&&1===d.nodeType&&f(d).closest(".quail-test").data("expected")||
null,status:"failed"}))}})})};d.colorBackgroundGradientContrast=function(a,b,e,c){var g=a.components.color.colors,d=a.components.color.buildCase;b.get("$scope").each(function(){for(var k=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),h=[],l=k.iterateNext();l;)a.components.color.textShouldBeTested(l)&&h.push(l.parentNode),l=k.iterateNext();0===h.length&&d(b,e,null,"inapplicable","","There is no text to evaluate");h.forEach(function(a){var k=
f(a),h,l,u;if(h=g.getBackgroundGradient(k)){for(var r=0;r<h.length;r++)"rgb"===h[r].substr(0,3)&&(h[r]=g.colorToHex(h[r]));l=new Rainbow;l.setSpectrumByArray(h);u=h.length*c.gradientSampleMultiplier;h=!1;for(r=0;!h&&u>r;r++)g.testElmBackground(c.algorithm,k,"#"+l.colourAt(r))||(d(b,e,a,"failed","colorBackgroundGradientContrast","The background gradient makes the text unreadable"),h=!0);h||d(b,e,a,"passed","colorBackgroundGradientContrast","The background gradient does not affect readability")}})})};
d.colorBackgroundImageContrast=function(a,b,e,c){function g(a,c,b,e,g){var f=d.getBackgroundImage(e);if(f){var r=document.createElement("img");r.crossOrigin="Anonymous";r.onload=function(){var f=d.getAverageRGB(r);d.testElmBackground(b.algorithm,e,f)?k(a,c,g,"passed",h,"The element's background image does not affect readability"):k(a,c,g,"failed",h,"The element's background image makes the text unreadable")};r.onerror=r.onabort=function(){k(a,c,g,"cantTell",h,"The element's background image could not be loaded ("+
f+")")};r.src=f}}var d=a.components.color.colors,k=a.components.color.buildCase,h="colorBackgroundImageContrast";b.get("$scope").each(function(){for(var d=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),m=[],h=d.iterateNext();h;)a.components.color.textShouldBeTested(h)&&m.push(h.parentNode),h=d.iterateNext();0===m.length&&k(b,e,null,"inapplicable","","There is no text to evaluate");m.forEach(function(a){g(b,e,c,f(a),a)})})};d.colorElementBehindBackgroundGradientContrast=
function(a,b,e,c){var g=a.components.color.colors,d=a.components.color.buildCase;b.get("$scope").each(function(){for(var k=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),h=[],l=k.iterateNext();l;)a.components.color.textShouldBeTested(l)&&h.push(l.parentNode),l=k.iterateNext();0===h.length&&d(b,e,null,"inapplicable","","There is no text to evaluate");h.forEach(function(a){var k=f(a),h;if(k.is("option")||(h=g.getBehindElementBackgroundGradient(k)),
h){for(var l=0;l<h.length;l++)"rgb"===h[l].substr(0,3)&&(h[l]=g.colorToHex(h[l]));var u=new Rainbow;u.setSpectrumByArray(h);var r=h.length*c.gradientSampleMultiplier;h=!1;for(l=0;!h&&r>l;l++)h=!g.testElmBackground(c.algorithm,k,"#"+u.colourAt(l));h?d(b,e,a,"failed","colorElementBehindBackgroundGradientContrast","The background gradient of the element behind this element makes the text unreadable"):d(b,e,a,"passed","colorElementBehindBackgroundGradientContrast","The background gradient of the element behind this element does not affect readability")}})})};
d.colorElementBehindBackgroundImageContrast=function(a,b,e,c){function g(a,c,b,e,g){var f;if(e.is("option")||(f=d.getBehindElementBackgroundImage(e)),f){var r=document.createElement("img");r.crossOrigin="Anonymous";r.onload=function(){var f=d.getAverageRGB(r);d.testElmBackground(b.algorithm,e,f)?k(a,c,g,"passed",h,"The background image of the element behind this element does not affect readability"):k(a,c,g,"failed",h,"The background image of the element behind this element makes the text unreadable")};
r.onerror=r.onabort=function(){k(a,c,g,"cantTell",h,"The background image of the element behind this element could not be loaded ("+f+")")};r.src=f}}var d=a.components.color.colors,k=a.components.color.buildCase,h="colorElementBehindBackgroundImageContrast";b.get("$scope").each(function(){for(var d=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),m=[],h=d.iterateNext();h;)a.components.color.textShouldBeTested(h)&&m.push(h.parentNode),
h=d.iterateNext();0===m.length&&k(b,e,null,"inapplicable","","There is no text to evaluate");m.forEach(function(a){g(b,e,c,f(a),a)})})};d.colorElementBehindContrast=function(a,b,e,c){var g=a.components.color.colors,d=a.components.color.buildCase;b.get("$scope").each(function(){for(var k=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),h=[],l=k.iterateNext();l;)a.components.color.textShouldBeTested(l)&&h.push(l.parentNode),l=k.iterateNext();
0===h.length&&d(b,e,null,"inapplicable","","There is no text to evaluate");h.forEach(function(a){var h=f(a),k;if(h.is("option")||(k=g.getBehindElementBackgroundColor(h)),k)g.testElmBackground(c.algorithm,h,k)?d(b,e,a,"passed","colorElementBehindContrast","The element behind this element does not affect readability"):d(b,e,a,"failed","colorElementBehindContrast","The element behind this element makes the text unreadable")})})};d.colorFontContrast=function(a,b,e,c){var g=a.components.color.colors,d=
a.components.color.buildCase;b.get("$scope").each(function(){for(var k=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),h=[],l=k.iterateNext();l;)a.components.color.textShouldBeTested(l)&&h.push(l.parentNode),l=k.iterateNext();0===h.length&&d(b,e,null,"inapplicable","","There is no text to evaluate");h.forEach(function(a){var h=f(a);g.testElmContrast(c.algorithm,h)?d(b,e,a,"passed","colorFontContrast","The font contrast of the text is sufficient for readability"):
d(b,e,a,"failed","colorFontContrast","The font contrast of the text impairs readability")})})};d.contentPositioningShouldNotChangeMeaning=function(a,b,e){var c=["top","left","right","bottom"],g={},d=!1;b.get("$scope").find("*:has(*:quailCss(position\x3dabsolute))").each(function(){g={top:{},left:{},right:{},bottom:{}};d=!1;var a=f(this);a.find("h1, h2, h3, h4, h5, h6, p, blockquote, ol, li, ul, dd, dt").filter(":quailCss(position\x3dabsolute)").each(function(){for(var a=0;a<c.length;a++)"undefined"!=
typeof f(this).css(c[a])&&"auto"!==f(this).css(c[a])&&("undefined"==typeof g[c[a]][f(this).css(c[a])]&&(g[c[a]][f(this).css(c[a])]=0),g[c[a]][f(this).css(c[a])]++)});f.each(c,function(){f.each(g[this],function(){2<this&&!d&&(d=!0,b.add(e({element:a.get(0),expected:a.closest(".quail-test").data("expected"),status:"failed"})))})})})};d.definitionListsAreUsed=function(a,b,e){b.get("$scope").find("dl").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);
a.set({status:"inapplicable"})});b.get("$scope").find("p, li").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var g=f(this);f(this).find("span, strong, em, b, i").each(function(){if(50>f(this).text().length&&0===g.text().search(f(this).text())){if(f(this).is("span")&&f(this).css("font-weight")===g.css("font-weight")&&f(this).css("font-style")===g.css("font-style"))return void a.set({status:"passed"});a.set({status:"failed"})}})})};d.doNotUseGraphicalSymbolToConveyInformation=
function(a,b,e){b.get("$scope").find(a.textSelector+":not(abbr, acronym)").each(function(){var c=f(this).text();0===c.replace(/[\W\s]+/g,"").length?-1==="✓".indexOf(c)&&b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"})):b.add(1===c.length&&0<="?xo[]()+-!*xX".indexOf(c)?e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}))});b.get("$scope").find(a.textSelector).filter("abbr, acronym").each(function(){b.add(e({element:this,
expected:a.components.resolveExpectation(this),status:"inapplicable"}))})};d.doctypeProvided=function(a,b,e){a=b.get("$scope").get(0);b.add(e(0!==f(a.doctype).length||document.doctype?{element:a,expected:"pass",status:"passed"}:{element:a,expected:"fail",status:"failed"}))};d.documentAbbrIsUsed=function(a,b,e){a.components.acronym(a,b,e,"abbr")};d.documentAcronymsHaveElement=function(a,b,e){a.components.acronym(a,b,e,"acronym")};d.documentIDsMustBeUnique=function(a,b,e){b.get("$scope").each(function(){0===
f(this).children().length&&b.add(e({element:this,status:"inapplicable",expected:f(this).closest(".quail-test").data("expected")}))});b.get("$scope").find(":not([id])").each(function(){b.add(e({element:this,status:"inapplicable",expected:f(this).closest(".quail-test").data("expected")}))});b.get("$scope").each(function(){var c={};f(this).find("[id]").each(function(){var g=e({element:this,expected:a.components.resolveExpectation(this)});b.add(g);"undefined"==typeof c[f(this).attr("id")]&&0===Object.keys(c).length?
(g.set({status:"inapplicable"}),c[f(this).attr("id")]=f(this).attr("id")):"undefined"==typeof c[f(this).attr("id")]?(g.set({status:"passed"}),c[f(this).attr("id")]=f(this).attr("id")):g.set({status:"failed"})})})};d.documentIsWrittenClearly=function(a,b,e){b.get("$scope").find(a.textSelector).each(function(){var c=a.components.textStatistics.cleanText(f(this).text()),g=e({element:this,expected:f(this).closest(".quail-test").data("expected")});return b.add(g),a.isUnreadable(c)?void g.set({status:"inapplicable"}):
void g.set(60>Math.round(206.835-1.015*a.components.textStatistics.averageWordsPerSentence(c)-84.6*a.components.textStatistics.averageSyllablesPerWord(c))?{status:"failed"}:{status:"passed"})})};d.documentLangIsISO639Standard=function(a,b,e){var c=b.get("$scope").is("html")?b.get("$scope"):b.get("$scope").find("html").first();e=e({element:c[0],expected:c.closest(".quail-test").length?c.closest(".quail-test").data("expected"):c.data("expected")});var g=c.attr("lang"),d=!1;b.add(e);c.is("html")&&"undefined"!=
typeof g?(f.each(a.strings.languageCodes,function(a,c){d||0!==g.indexOf(c)||(d=!0)}),e.set(d?null===g.match(/^[a-z]{2}(-[A-Z]{2})?$/)?{status:"failed"}:{status:"passed"}:{status:"failed"})):e.set({status:"inapplicable"})};d.documentStrictDocType=function(a,b,e){b.add("undefined"!=typeof document.doctype&&document.doctype&&-1!==document.doctype.systemId.search("strict")?e({element:document,expected:b.get("$scope").data("expected"),status:"passed"}):e({element:document,expected:b.get("$scope").data("expected"),
status:"failed"}))};d.documentTitleIsShort=function(a,b,e){a=b.get("$scope").find("head title:first");e=e({element:a,expected:a.closest(".quail-test").data("expected")});return b.add(e),a.length?void e.set({status:150<a.text().length?"failed":"passed"}):void e.set({element:b.get("$scope"),status:"inapplicable"})};d.documentValidatesToDocType=function(){"undefined"==typeof document.doctype};d.documentVisualListsAreMarkedUp=function(a,b,e){var c=RegExp("(^|\x3cbr[^\x3e]*\x3e)[\\s]*(♦|›|»|‣|▶|◦|✓|◽|•|—|◾|-\\D|\\\\|\\*(?!\\*)|\\.\\s|x\\s|\x26bull;|\x26#8226;|\x26gt;|[0-9]+\\.|\\(?[0-9]+\\)|[\\u25A0-\\u25FF]|[IVX]{1,5}\\.\\s)",
"gi");b.get("$scope").find(a.textSelector).each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var d=f(this).html().match(c);a.set({status:d&&2<d.length?"failed":"passed"})})};d.elementAttributesAreValid=function(a,b,e){a.components.htmlSource.getHtml(function(c,g){g&&a.components.htmlSource.traverse(g,function(a){if("undefined"!=typeof a.raw&&f.isArray(a.selector)){var c,g=!1;c=/#/.test(a.selector.slice(-1)[0])?a.selector.slice(-1)[0]:a.selector.join(" \x3e ");
var d=f(c,b.get("$scope")).get(0);d||(d=a.raw||c);(c=a.raw.match(/\'|\"/g))&&0!==c.length%2&&(b.add(e({element:d,expected:"object"==typeof d&&1===d.nodeType&&f(d).closest(".quail-test").data("expected")||null,status:"failed"})),g=!0);-1<a.raw.search(/([a-z]*)=(\'|\")([a-z\.]*)(\'|\")[a-z]/i)&&(b.add(e({element:d,expected:"object"==typeof d&&1===d.nodeType&&f(d).closest(".quail-test").data("expected")||null,status:"failed"})),g=!0);a=a.raw.split("\x3d");a.shift();f.each(a,function(){-1===this.search(/\'|\"/)&&
-1<this.search(/\s/i)&&(b.add(e({element:d,expected:"object"==typeof d&&1===d.nodeType&&f(d).closest(".quail-test").data("expected")||null,status:"failed"})),g=!0)});g||b.add(e({element:d,expected:"object"==typeof d&&1===d.nodeType&&f(d).closest(".quail-test").data("expected")||null,status:"passed"}))}})})};d.elementsDoNotHaveDuplicateAttributes=function(a,b,e){a.components.htmlSource.getHtml(function(c,g){g&&a.components.htmlSource.traverse(g,function(a){if("tag"===a.type&&f.isArray(a.selector)){var c;
c=/#/.test(a.selector.slice(-1)[0])?a.selector.slice(-1)[0]:a.selector.join(" \x3e ");var g=f(c,b.get("$scope")).get(0);if(g||(g=a.raw||c),"undefined"!=typeof a.attributes){var d=[];f.each(a.attributes,function(a,c){1<c.length&&d.push(c)});b.add(d.length?e({element:g,expected:"object"==typeof g&&1===g.nodeType&&f(g).closest(".quail-test").data("expected")||null,info:d,status:"failed"}):e({element:g,expected:"object"==typeof g&&1===g.nodeType&&f(g).closest(".quail-test").data("expected")||null,info:d,
status:"passed"}))}}})})};d.embedHasAssociatedNoEmbed=function(a,b,e){b.get("$scope").find("embed").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set({status:f(this).find("noembed").length||f(this).next().is("noembed")?"passed":"failed"})})};d.emoticonsExcessiveUse=function(a,b,e){b.get("$scope").find(a.textSelector).each(function(){var c=0,g=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(g);f.each(f(this).text().split(" "),
function(b,e){-1<e.search(a.emoticonRegex)&&c++});g.set(0===c?{status:"inapplicable"}:{status:4<c?"failed":"passed"})})};d.emoticonsMissingAbbr=function(a,b,e){b.get("$scope").find(a.textSelector+":not(abbr, acronym)").each(function(){var c=f(this).clone(),g=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(g);c.find("abbr, acronym").each(function(){f(this).remove()});var d="passed";f.each(c.text().split(" "),function(c,b){-1<b.search(a.emoticonRegex)&&(d="failed")});
g.set({status:d})})};d.focusIndicatorVisible=function(a,b,e){b.get("$scope").find(a.focusElements).each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(c);var g=f(this).css("border-width");f(this).css("border-color");var d=f(this).css("background-color"),k=f(this).css("box-shadow");if(f(this).focus(),d.trim()!==f(this).css("background-color").trim())return f(this).blur(),void c.set({status:"passed"});d=a.components.convertToPx(f(this).css("border-width"));
return 2<d&&d!==a.components.convertToPx(g)?(f(this).blur(),void c.set({status:"passed"})):(g=f(this).css("box-shadow")&&"none"!==f(this).css("box-shadow")?f(this).css("box-shadow").match(/(-?\d+px)|(rgb\(.+\))/g):!1)&&f(this).css("box-shadow")!==k&&3<a.components.convertToPx(g[3])?(f(this).blur(),void c.set({status:"passed"})):(f(this).blur(),void c.set({status:"failed"}))})};d.formWithRequiredLabel=function(a,b,e){var c,g=a.strings.redundant,d=!1;g.required[g.required.indexOf("*")]=/\*/g;b.get("$scope").each(function(){f(this).find("label").each(function(){var k=
f(this).text().toLowerCase(),h=f(this),l=b.add(e({element:this,expected:a.components.resolveExpectation(this)})),p;for(p in g.required)0<=k.search(p)&&!b.get("$scope").find("#"+h.attr("for")).attr("aria-required")&&l.set({status:"failed"});d=h.css("color")+h.css("font-weight")+h.css("background-color");c&&d!==c&&l.set({status:"failed"});c=d;"undefined"==typeof l.get("status")&&l.set({status:"passed"})})})};d.headerTextIsTooLong=function(a,b,e){b.get("$scope").find("h1, h2, h3, h4, h5, h6").each(function(){var a=
e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:128<f(this).text().replace(/^\s+|\s+$/gm,"").length?"failed":"passed"});b.add(a)})};d.headersAttrRefersToATableCell=function(a,b,e){b.get("$scope").find("table").each(function(){var a=this,g=e({element:a,expected:f(this).closest(".quail-test").data("expected")});b.add(g);var d=f(a).find("th[headers], td[headers]");return 0===d.length?void g.set({status:"inapplicable"}):void d.each(function(){var b=f(this).attr("headers").split(/\s+/);
f.each(b,function(b,e){return""===e||0<f(a).find("th#"+e+",td#"+e).length?void g.set({status:"passed"}):void g.set({status:"failed"})})})})};d.headersUseToMarkSections=function(a,b,e){b.get("$scope").find("p").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var g=f(this);g.find("strong:first, em:first, i:first, b:first").each(function(){a.set({status:g.text().trim()===f(this).text().trim()?"failed":"passed"})})});b.get("$scope").find("ul, ol").each(function(){var a=
e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var g=f(this);if(g.prevAll(":header").length||g.find("li").length!==g.find("li:has(a)").length)return void a.set({status:"passed"});var d=!0;g.find("li:has(a)").each(function(){f(this).text().trim()!==f(this).find("a:first").text().trim()&&(d=!1)});d&&a.set({status:"failed"})})};d.headersUsedToIndicateMainContent=function(a,b,e){b.get("$scope").each(function(){var c=f(this),c=a.components.content.findContent(c);b.add(e("undefined"==
typeof c||0!==c.find(":header").length&&c.find(a.textSelector).first().is(":header")?{element:c.get(0),expected:c.closest(".quail-test").data("expected"),status:"passed"}:{element:c.get(0),expected:c.closest(".quail-test").data("expected"),status:"failed"}))})};d.idRefHasCorrespondingId=function(a,b,e){b.get("$scope").find("label[for], *[aria-activedescendant]").each(function(){var a=f(this),g=e({element:this,expected:a.closest(".quail-test").data("expected")});b.add(g);a=a.attr("for")||a.attr("aria-activedescendant");
g.set(0===b.get("$scope").find("#"+a).length?{status:"failed"}:{status:"passed"})})};d.idrefsHasCorrespondingId=function(a,b,e){function c(a){var c=[];return f.each("headers aria-controls aria-describedby aria-flowto aria-labelledby aria-owns".split(" "),function(b,e){var f=a.attr(e);return"undefined"!=typeof f&&!1!==f?void(c=f):void 0}),c.split(/\s+/)}b.get("$scope").each(function(){var a=f(this).find("td[headers], th[headers], [aria-controls], [aria-describedby], [aria-flowto], [aria-labelledby], [aria-owns]");
return 0===a.length?void b.add(e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"inapplicable"})):void a.each(function(){var a=b.add(e({element:this,expected:f(this).closest(".quail-test").data("expected")})),g=c(f(this)),d="passed";f.each(g,function(a,c){return""!==c&&0===f("#"+c).length?void(d="failed"):void 0});a.set({status:d})})})};d.imgAltIsDifferent=function(a,b,e){b.get("$scope").find("img:not([src])").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected"),
status:"inapplicable"});b.add(a)});b.get("$scope").find("img[alt][src]").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(f(this).attr("src")===f(this).attr("alt")||f(this).attr("src").split("/").pop()===f(this).attr("alt")?{status:"failed"}:{status:"passed"})})};d.imgAltIsTooLong=function(a,b,e){b.get("$scope").find("img[alt]").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set({status:100<
f(this).attr("alt").length?"failed":"passed"})})};d.imgAltNotEmptyInAnchor=function(a,b,e){b.get("$scope").find("a[href]:has(img)").each(function(){var c=f(this),g=c.text(),d=e({element:this,expected:c.closest(".quail-test").data("expected")});b.add(d);c.find("img[alt]").each(function(){g+=" "+f(this).attr("alt")});d.set(a.isUnreadable(g)?{status:"failed"}:{status:"passed"})})};d.imgAltTextNotRedundant=function(a,b,e){var c={};b.get("$scope").find("img[alt]").each(function(){var a=e({element:this,
expected:f(this).closest(".quail-test").data("expected")});b.add(a);"undefined"==typeof c[f(this).attr("alt")]?c[f(this).attr("alt")]=f(this).attr("src"):a.set(c[f(this).attr("alt")]!==f(this).attr("src")?{status:"failed"}:{status:"passed"})})};d.imgGifNoFlicker=function(a,b,e){b.get("$scope").find('img[src$\x3d".gif"]').each(function(){var a=f(this),g=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(g);f.ajax({url:a.attr("src"),dataType:"text",success:function(a){g.set(-1!==
a.search("NETSCAPE2.0")?{status:"failed"}:{status:"inapplicable"})}})})};d.imgHasLongDesc=function(a,b,e){b.get("$scope").find("img[longdesc]").each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(c);c.set(f(this).attr("longdesc")!==f(this).attr("alt")&&a.validURL(f(this).attr("longdesc"))?{status:"passed"}:{status:"failed"})})};d.imgImportantNoSpacerAlt=function(a,b,e){b.get("$scope").find("img[alt]").each(function(){var c=f(this).width()?f(this).width():
parseInt(f(this).attr("width"),10),g=f(this).height()?f(this).height():parseInt(f(this).attr("height"),10),d=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(d);d.set(a.isUnreadable(f(this).attr("alt").trim())&&0<f(this).attr("alt").length&&50<c&&50<g?{status:"failed"}:{status:"passed"})})};d.imgMapAreasHaveDuplicateLink=function(a,b,e){var c={};b.get("$scope").find("a").each(function(){c[f(this).attr("href")]=f(this).attr("href")});b.get("$scope").find("img[usemap]").each(function(){var a=
e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var d=f(this),k=b.get("$scope").find(d.attr("usemap"));k.length||(k=b.get("$scope").find('map[name\x3d"'+d.attr("usemap").replace("#","")+'"]'));k.length?k.find("area").each(function(){a.set("undefined"==typeof c[f(this).attr("href")]?{status:"failed"}:{status:"passed"})}):a.set({status:"inapplicable"})})};d.imgNonDecorativeHasAlt=function(a,b,e){b.get("$scope").find("img[alt]").each(function(){var c=e({element:this,
expected:f(this).closest(".quail-test").data("expected")});b.add(c);c.set(a.isUnreadable(f(this).attr("alt"))&&(100<f(this).width()||100<f(this).height())?{status:"failed"}:{status:"passed"})})};d.imgWithMathShouldHaveMathEquivalent=function(a,b,e){b.get("$scope").find("img:not(img:has(math), img:has(tagName))").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);f(this).parent().find("math").length||a.set({status:"failed"})})};d.inputCheckboxRequiresFieldset=
function(a,b,e){b.get("$scope").find(":checkbox").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(f(this).parents("fieldset").length?{status:"passed"}:{status:"failed"})})};d.inputImageAltIsNotFileName=function(a,b,e){b.get("$scope").find("input[type\x3dimage][alt]").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(f(this).attr("src")===f(this).attr("alt")?{status:"failed"}:
{status:"passed"})})};d.inputImageAltIsShort=function(a,b,e){b.get("$scope").find("input[type\x3dimage]").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(100<f(this).attr("alt").length?{status:"failed"}:{status:"passed"})})};d.inputImageAltNotRedundant=function(a,b,e){b.get("$scope").find("input[type\x3dimage][alt]").each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(c);c.set(-1<a.strings.redundant.inputImage.indexOf(a.cleanString(f(this).attr("alt")))?
{status:"failed"}:{status:"passed"})})};d.inputWithoutLabelHasTitle=function(a,b,e){b.get("$scope").each(function(){var c=f(this).find("input, select, textarea");if(0===c.length)return c=e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"inapplicable"}),void b.add(c);c.each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});return b.add(c),"none"===f(this).css("display")?void c.set({status:"inapplicable"}):void c.set(b.get("$scope").find("label[for\x3d"+
f(this).attr("id")+"]").length||f(this).attr("title")&&!a.isUnreadable(f(this).attr("title"))?{status:"passed"}:{status:"failed"})})})};d.labelMustBeUnique=function(a,b,e){var c={};b.get("$scope").find("label[for]").each(function(){"undefined"==typeof c[f(this).attr("for")]&&(c[f(this).attr("for")]=0);c[f(this).attr("for")]++});b.get("$scope").find("label[for]").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:1===c[f(this).attr("for")]?"passed":
"failed"});b.add(a)})};d.labelsAreAssignedToAnInput=function(a,b,e){b.get("$scope").find("label").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(f(this).attr("for")?b.get("$scope").find("#"+f(this).attr("for")).length&&b.get("$scope").find("#"+f(this).attr("for")).is(":input")?{status:"passed"}:{status:"failed"}:{status:"failed"})})};d.languageChangesAreIdentified=function(a,b,e){var c,g,d,k,h,l=b.get("$scope"),p=a.components.language.getDocumentLanguage(l,
!0),n=function(c,b,e,g){var d;c=c.find("[lang\x3d"+b+"]");return 0===c.length?!0:(e=e.length,c.each(function(){(d=a.getTextContents(f(this)).match(g))&&(e-=d.length)}),0<e)},q=function(c){return c.attr("lang")?c.attr("lang").trim().toLowerCase().split("-")[0]:c.parents("[lang]").length?c.parents("[lang]:first").attr("lang").trim().toLowerCase().split("-")[0]:a.components.language.getDocumentLanguage(l,!0)};l.find(a.textSelector).each(function(){k=this;d=f(this);p=q(d);c=a.getTextContents(d);h=!1;
f.each(a.components.language.scriptSingletons,function(f,l){f!==p&&(g=c.match(l),g&&g.length&&n(d,f,g,l)&&(b.add(e({element:k,expected:a.components.resolveExpectation(k),info:{language:f},status:"failed"})),h=!0))});f.each(a.components.language.scripts,function(f,l){-1===l.languages.indexOf(p)&&(g=c.match(l.regularExpression),g&&g.length&&n(d,f,g,void 0)&&(b.add(e({element:k,expected:a.components.resolveExpectation(k),info:{language:f},status:"failed"})),h=!0))});"undefined"!=typeof guessLanguage&&
!d.find("[lang]").length&&400<d.text().trim().length&&guessLanguage.info(d.text(),function(c){c[0]!==p&&(b.add(e({element:k,expected:a.components.resolveExpectation(k),info:{language:c[0]},status:"failed"})),h=!0)});h||b.add(e({element:k,expected:a.components.resolveExpectation(k),status:"passed"}))})};d.languageDirAttributeIsUsed=function(a,b,e){function c(){var c=f(this),d=c.attr("dir");d||(d=c.closest("[dir]").attr("dir")||d);"string"==typeof d&&(d=d.toLowerCase());"undefined"==typeof g[d]&&(d=
"ltr");var h="ltr"===d?"rtl":"ltr";if(d=a.getTextContents(c).match(g[h])){var l=d.length;c.find("[dir\x3d"+h+"]").each(function(){var a=c[0].textContent.match(g[h]);a&&(l-=a.length)});b.add(e({element:this,expected:a.components.resolveExpectation(this)})).set({status:0<l?"failed":"passed"})}}var g=a.components.language.textDirection;b.get("$scope").each(function(){f(this).find(a.textSelector).each(c)})};d.languageDirectionPunctuation=function(a,b,e){var c=b.get("$scope"),g={},d=/[\u2000-\u206F]|[!"#$%&'\(\)\]\[\*+,\-.\/:;<=>?@^_`{|}~]/gi,
k=c.attr("dir")?c.attr("dir").toLowerCase():"ltr",h="ltr"===k?"rtl":"ltr",l=a.components.language.textDirection;c.each(function(){f(this).find(a.textSelector).each(function(){var c=f(this);k=c.attr("dir")?c.attr("dir").toLowerCase():c.parent("[dir]").first().attr("dir")?c.parent("[dir]").first().attr("dir").toLowerCase():k;"undefined"==typeof l[k]&&(k="ltr");h="ltr"===k?"rtl":"ltr";var c=a.getTextContents(c),n=c.match(l[h]),q=b.add(e({element:this,expected:a.components.resolveExpectation(this)}));
if(!n)return void q.set({status:"inapplicable"});for(var t=c.search(l[h]),n=c.lastIndexOf(n.pop());g=d.exec(c);)if(g.index===t-1||g.index===n+1)return void q.set({status:"failed"});q.set({status:"passed"})})})};d.languageUnicodeDirection=function(a,b,e){var c=b.get("$scope"),g=a.components.language.textDirection,d=a.components.language.textDirectionChanges;c.each(function(){f(this).find(a.textSelector).each(function(){var c=b.add(e({element:this,expected:a.components.resolveExpectation(this)})),h=
f(this).text().trim(),l=-1!==h.substr(0,1).search(g.ltr)?"rtl":"ltr";c.set(-1===h.search(g[l])?{status:"inapplicable"}:-1!==h.search(d[l])?{status:"passed"}:{status:"failed"})})})};d.linkHasAUniqueContext=function(a,b,e){function c(a){var c=f(a);a=c;for(c=g(c.text());!a.is("body, html")&&-1===l.indexOf(a.css("display"));)a=a.parent();var b=a.text().match(/[^\.!\?]+[\.!\?]+/g);null===b&&(b=[a.text()]);for(a=0;a<b.length;a+=1)if(-1!==g(b[a]).indexOf(c))return b[a].trim()}function g(a){var c=a.match(/\w+/g);
return null!==c&&(a=c.join(" ")),a.toLowerCase()}function d(a,c){return g(""+a)!==g(""+c)}function k(a,b){if(a.href===b.href||d(a.title,b.title))return!1;var e=f(a).closest("p, li, dd, dt, td, th"),k=f(b).closest("p, li, dd, dt, td, th");if(0!==e.length&&0!==k.length&&d(h(e),h(k))||e.is("td, th")&&!k.is("td, th"))return!1;if(e.is("td, th")&&k.is("td, th")){var l=!1,r=[];if(e.tableHeaders().each(function(){r.push(g(f(this).text()))}),k.tableHeaders().each(function(){var a=g(f(this).text()),a=r.indexOf(a);
-1===a?l=!0:r.splice(a,1)}),l||0<r.length)return!1}return d(c(a),c(b))?!1:!0}function h(a){var c=a.text();return a.find("img[alt]").each(function(){c+=" "+this.alt.trim()}),g(c)}var l="block flex list-item table table-caption table-cell".split(" ");b.get("$scope").each(function(){var a=f(this),c=a.find("a[href]:visible"),g={};0===c.length&&(a=e({element:this,status:"inapplicable",expected:a.closest(".quail-test").data("expected")}),b.add(a));c.each(function(){var a=h(f(this));"undefined"==typeof g[a]&&
(g[a]=[]);g[a].push(this)});f.each(g,function(a,c){for(;1<c.length;){for(var g=c.pop(),d=!1,m=c.length-1;0<=m;--m){var h=c[m];k(g,h)&&(d=!0,c.splice(m,1),b.add(e({element:h,status:"failed",expected:f(h).closest(".quail-test").data("expected")})))}b.add(e({element:g,status:d?"failed":"passed",expected:f(g).closest(".quail-test").data("expected")}))}1===c.length&&b.add(e({element:c[0],status:"passed",expected:f(c[0]).closest(".quail-test").data("expected")}))})})};d.listNotUsedForFormatting=function(a,
b,e){b.get("$scope").find("ol, ul").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(2>f(this).find("li").length?{status:"failed"}:{status:"passed"})})};d.listOfLinksUseList=function(a,b,e){var c=/(♦|›|»|‣|▶|.|◦|>|✓|◽|•|—|◾|\||\*|&bull;|&#8226;)/g;b.get("$scope").find("a").each(function(){var g=b.add(e({element:this})),d=f(this).closest(".quail-test").data("expected");if(f(this).next("a").length){var k=f(this).get(0).nextSibling.wholeText.replace(c,
"");g.set(!f(this).parent("li").length&&a.isUnreadable(k)?{expected:d,status:"failed"}:{expected:d,status:"passed"})}})};d.newWindowIsOpened=function(a,b,e){var c,g=window.open;window.open=function(a){b.each(function(c,b){-1<b.get("element").href.indexOf(a)&&b.set("status","failed")})};b.get("$scope").find("a").each(function(){c=e({element:this,expected:a.components.resolveExpectation(this)});b.add(c);f(this).trigger("click")});window.open=g};d.pNotUsedAsHeader=function(a,b,e){b.get("$scope").find("p").each(function(){var c=
e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(c);1<=f(this).text().search(".")&&c.set({status:"inapplicable"});var g=!1;if(1>f(this).text().search(".")){var d=f(this),k=d.prev("p");f.each(a.suspectPHeaderTags,function(a,b){d.find(b).length&&d.find(b).each(function(){f(this).text().trim()===d.text().trim()&&(c.set({status:"failed"}),g=!0)})});k.length&&f.each(a.suspectPCSSStyles,function(a,b){return d.css(b)!==k.css(b)?(c.set({status:"failed"}),g=!0,!1):void 0});
"bold"===d.css("font-weight")&&(c.set({status:"failed"}),g=!0)}g||c.set({status:"passed"})})};d.paragraphIsWrittenClearly=function(a,b,e){b.get("$scope").find("p").each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(c);var g=a.components.textStatistics.cleanText(f(this).text());c.set(60>Math.round(206.835-1.015*a.components.textStatistics.averageWordsPerSentence(g)-84.6*a.components.textStatistics.averageSyllablesPerWord(g))?{status:"failed"}:{status:"passed"})})};
d.preShouldNotBeUsedForTabularLayout=function(a,b,e){b.get("$scope").find("pre").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var g=f(this).text().split(/[\n\r]+/);a.set({status:1<g.length&&-1<f(this).text().search(/\t/)?"failed":"passed"})})};d.scriptFocusIndicatorVisible=function(){d.html.find(d.focusElements).each(function(){var a,b,e,c;e=[];for(var g=0,m=document.styleSheets.length;m>g;++g){a=document.styleSheets[g];b=a.cssRules||a.rules;
for(var k=b.length-1;0<=k;--k)c=b[k],c.selectorText&&-1!==c.selectorText.indexOf(":focus")&&(e.push({css:c.cssText,index:k,sheet:g}),a.deleteRule(k))}b=f(this).css("border-width");f(this).css("border-color");c=f(this).css("background-color");a=f(this).css("box-shadow");m=f(this).css("outline-width");f(this).css("outline-color");f(this).focus();k=d.components.convertToPx(f(this).css("outline-width"));if(2<k&&k!==d.components.convertToPx(m)||c!==f(this).css("background-color"))return void f(this).blur();
c=d.components.convertToPx(f(this).css("border-width"));if(2<c&&c!==d.components.convertToPx(b)||(b=f(this).css("box-shadow")&&"none"!==f(this).css("box-shadow")?f(this).css("box-shadow").match(/(-?\d+px)|(rgb\(.+\))/g):!1)&&f(this).css("box-shadow")!==a&&3<d.components.convertToPx(b[3]))return void f(this).blur();f(this).blur();for(b=e.length-1;0<=b;--g)a=e[b],document.styleSheets[a.sheet].insertRule(a.css,a.index);d.testFails("scriptFocusIndicatorVisible",f(this))})};d.selectJumpMenu=function(a,
b,e){var c=b.get("$scope");0!==c.find("select").length&&c.find("select").each(function(){b.add(0===f(this).parent("form").find(":submit").length&&a.components.hasEventListener(f(this),"change")?e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"failed"}):e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"passed"}))})};d.siteMap=function(a,b,e){var c=!0,g=e({element:b.get("$scope").get(0),expected:b.get("$scope").data("expected")});b.add(g);
b.get("$scope").find("a").each(function(){if("passed"!==g.get("status")){var b=f(this).text().toLowerCase();return f.each(a.strings.siteMap,function(a,e){return-1<b.search(e)?void(c=!1):void 0}),!1===c?void g.set({status:"failed"}):void(c&&g.set({status:"passed"}))}})};d.skipToContentLinkProvided=function(a,b,e){b.get("$scope").each(function(){var c=f(this),g=!1;c.find('a[href*\x3d"#"]').each(function(){if(!g)for(var d=f(this),k=d.attr("href").split("#").pop(),k=c.find("#"+k),h=a.strings.skipContent.slice();!g&&
h.length;){var l=h.pop();if(-1<d.text().search(l)&&k.length){if(d.focus(),d.is(":visible")&&"hidden"!==d.css("visibility"))return g=!0,void b.add(e({element:d.get(0),expected:d.closest(".quail-test").data("expected"),status:"passed"}));d.blur()}}});g||b.add(e({expected:c.data("expected")||c.find("[data-expected]").data("expected"),status:"failed"}))})};d.tabIndexFollowsLogicalOrder=function(a,b,e){b.get("$scope").each(function(){var c=0;f(this).find("[tabindex]").each(function(){var g=f(this).attr("tabindex");
b.add(0<=parseInt(g,10)&&parseInt(g,10)!==c+1?e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}));c++})})};d.tableAxisHasCorrespondingId=function(a,b,e){b.get("$scope").find("[axis]").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(0===f(this).parents("table").first().find("th#"+f(this).attr("axis")).length?{status:"failed"}:
{status:"passed"})})};d.tableHeaderLabelMustBeTerse=function(a,b,e){b.get("$scope").find("th, table tr:first td").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);a.set(20<f(this).text().length&&(!f(this).attr("abbr")||20<f(this).attr("abbr").length)?{status:"failed"}:{status:"passed"})})};d.tableLayoutDataShouldNotHaveTh=function(a,b,e){b.get("$scope").find("table").each(function(){var c=e({element:this,expected:f(this).closest(".quail-test").data("expected")});
b.add(c);c.set(0!==f(this).find("th").length?a.isDataTable(f(this))?{status:"passed"}:{status:"failed"}:{status:"inapplicable"})})};d.tableLayoutHasNoCaption=function(a,b,e){b.get("$scope").find("table").each(function(){b.add(f(this).find("caption").length?a.isDataTable(f(this))?e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}):e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):e({element:this,expected:a.components.resolveExpectation(this),
status:"inapplicable"}))})};d.tableLayoutHasNoSummary=function(a,b,e){b.get("$scope").each(function(){f(this).find("table[summary]").each(function(){b.add(e({element:this,expected:f(this).closest(".quail-test").data("expected")})).set(a.isDataTable(f(this))||a.isUnreadable(f(this).attr("summary"))?{status:"passed"}:{status:"failed"})})})};d.tableLayoutMakesSenseLinearized=function(a,b,e){b.get("$scope").find("table").each(function(){a.isDataTable(f(this))||b.add(e({element:this,expected:a.components.resolveExpectation(this),
status:"failed"}))})};d.tableNotUsedForLayout=function(a,b,e){b.get("$scope").find("table").each(function(){b.add(a.isDataTable(f(this))?e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}):e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};d.tableShouldUseHeaderIDs=function(a,b,e){b.get("$scope").find("table").each(function(){var c=f(this),g=!1;a.isDataTable(c)&&(c.find("th").each(function(){g||f(this).attr("id")||(g=!0,b.add(e({element:this,
expected:a.components.resolveExpectation(this),status:"failed"})))}),g||c.find("td[header]").each(function(){g||f.each(f(this).attr("header").split(" "),function(d,f){c.find("#"+f).length||(g=!0,b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"})))})}))})};d.tableSummaryDoesNotDuplicateCaption=function(a,b,e){b.get("$scope").find("table[summary]:has(caption)").each(function(){b.add(a.cleanString(f(this).attr("summary"))===a.cleanString(f(this).find("caption:first").text())?
e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}))})};d.tableSummaryIsNotTooLong=function(a,b,e){b.get("$scope").find("table[summary]").each(function(){100<f(this).attr("summary").trim().length&&b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};d.tableUseColGroup=function(a,b,e){b.get("$scope").find("table").each(function(){a.isDataTable(f(this))&&
!f(this).find("colgroup").length&&b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};d.tableUsesAbbreviationForHeader=function(a,b,e){b.get("$scope").find("th:not(th[abbr])").each(function(){20<f(this).text().length&&b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};d.tableUsesScopeForRow=function(a,b,e){b.get("$scope").find("table").each(function(){f(this).find("td:first-child").each(function(){var c=f(this).next("td");
("bold"===f(this).css("font-weight")&&"bold"!==c.css("font-weight")||f(this).find("strong").length&&!c.find("strong").length)&&b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))});f(this).find("td:last-child").each(function(){var c=f(this).prev("td");("bold"===f(this).css("font-weight")&&"bold"!==c.css("font-weight")||f(this).find("strong").length&&!c.find("strong").length)&&b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})})};
d.tableWithMoreHeadersUseID=function(a,b,e){b.get("$scope").find("table:has(th)").each(function(){var c=0;f(this).find("tr").each(function(){f(this).find("th").length&&c++;1<c&&!f(this).find("th[id]").length&&b.add(e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})})};d.tabularDataIsInTable=function(a,b,e){b.get("$scope").find("pre").each(function(){b.add(0<=f(this).html().search("\t")?e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):
e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}))})};d.tagsAreNestedCorrectly=function(a,b,e){a.components.htmlSource.getHtml(function(c){c=a.components.htmlTagValidator(c);var g=e({expected:b.get("$scope").filter(".quail-test").eq(0).data("expected")});b.add(g);g.set(c?{status:"failed",html:c}:{status:"passed"})})};d.textIsNotSmall=function(a,b,e){b.get("$scope").find(a.textSelector).each(function(){var c=f(this).css("font-size");0<c.search("em")&&(c=a.components.convertToPx(c));
c=parseInt(c.replace("px",""),10);b.add(10>c?e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}))})};d.userInputMayBeRequired=function(a,b,e){b.get("$scope").each(function(){var a=e({element:this,expected:f(this).closest(".quail-test").data("expected")});b.add(a);var g=f(this).find("form"),d=0,k=f(this).find("input:not(form input, [type\x3dbutton],[type\x3dreset],[type\x3dimage],[type\x3dsubmit],[type\x3dhidden])");
return g.each(function(){var a=f(this).find("input:not([type\x3dbutton],[type\x3dreset],[type\x3dimage],[type\x3dsubmit],[type\x3dhidden])");1<a.length&&(d=a.length)}),0<d?void a.set({status:"cantTell"}):1<k.length?void a.set({status:"cantTell"}):void a.set({status:"inapplicable"})})};d.videoMayBePresent=function(a,b,e){var c="webm flv ogv ogg avi mov qt wmv asf mp4 m4p m4v mpg mp2 mpeg mpg mpe mpv m2v 3gp 3g2".split(" "),g=["//www.youtube.com/embed/","//player.vimeo.com/video/"];b.get("$scope").each(function(){var a=
f(this),d=!1;a.find("object, video").each(function(){d=!0;b.add(e({element:this,expected:f(this).closest(".quail-test").data("expected"),status:"cantTell"}))});a.find("a[href]").each(function(){var a=f(this),g=a.attr("href").split(".").pop();-1!==f.inArray(g,c)&&(d=!0,b.add(e({element:this,expected:a.closest(".quail-test").data("expected"),status:"cantTell"})))});a.find("iframe").each(function(){-1===this.src.indexOf(g[0])&&-1===this.src.indexOf(g[1])||(d=!0,b.add(e({element:this,expected:a.closest(".quail-test").data("expected"),
status:"cantTell"})))});d||b.add(e({element:this,status:"inapplicable",expected:f(this).closest(".quail-test").data("expected")}))})};d.videosEmbeddedOrLinkedNeedCaptions=function(a,b,e){a.components.video.findVideos(b.get("$scope"),function(c,g){b.add(g?e({element:c[0],expected:a.components.resolveExpectation(c),status:"passed"}):e({element:c[0],expected:a.components.resolveExpectation(c),status:"failed"}))})};d.whiteSpaceInWord=function(a,b,e){var c,g;b.get("$scope").find(a.textSelector).each(function(){g=
f(this).text()?f(this).text().match(/[^\s\\]/g):!1;c=f(this).text()?f(this).text().match(/[^\s\\]\s[^\s\\]/g):!1;b.add(g&&c&&3<c.length&&c.length>=g.length/2-2?e({element:this,expected:a.components.resolveExpectation(this),status:"failed"}):e({element:this,expected:a.components.resolveExpectation(this),status:"passed"}))})};d.whiteSpaceNotUsedForFormatting=function(a,b,e){b.get("$scope").find(a.textSelector).each(function(){var c=b.add(e({element:this,expected:a.components.resolveExpectation(this)}));
if(0===f(this).find("br").length)return void c.set({status:"passed"});var g=f(this).html().toLowerCase().split(/(<br\ ?\/?>)+/),d=0;f.each(g,function(a,c){-1!==c.search(/(\s|\&nbsp;){2,}/g)&&d++});c.set(1<d?{status:"failed"}:{status:"cantTell"})})};d.lib.Case=function(){function a(b){return new a.fn.init(b)}return a.fn=a.prototype={constructor:a,init:function(a){this.listeners={};this.timeout=null;this.attributes=a||{};var e=this;return this.attributes.status&&"untested"!==this.attributes.status?
setTimeout(function(){e.resolve()},0):(this.attributes.status="untested",this.timeout=setTimeout(function(){e.giveup()},350)),this},attributes:null,get:function(a){return this.attributes[a]},set:function(a,e){var c=!1;if("object"==typeof a)for(var g in a)a.hasOwnProperty(g)&&("status"===g&&(c=!0),this.attributes[g]=a[g]);else"status"===a&&(c=!0),this.attributes[a]=e;return c&&this.resolve(),this},hasStatus:function(a){"object"!=typeof a&&(a=[a]);for(var e=this.get("status"),c=0,g=a.length;g>c;++c)if(a[c]===
e)return!0;return!1},resolve:function(){clearTimeout(this.timeout);var a,e=this.attributes.element;e&&e.nodeType&&1===e.nodeType&&(this.attributes.selector=this.defineUniqueSelector(e),this.attributes.html||(this.attributes.html="","HTML"===e.nodeName||"BODY"===e.nodeName?this.attributes.html="\x3c"+e.nodeName+"\x3e":"string"==typeof e.outerHTML&&(a=e.outerHTML.trim().replace(/(\r\n|\n|\r)/gm,"").replace(/>\s+</g,"\x3e\x3c"),200<a.length&&(a=a.substr(0,200)+"... [truncated]"),this.attributes.html=
a)));this.dispatch("resolve",this)},giveup:function(){clearTimeout(this.timeout);this.attributes.status="notTested";this.dispatch("timeout",this)},listenTo:function(a,e,c){c=c.bind(this);a.registerListener.call(a,e,c)},registerListener:function(a,e){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(e)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var e=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,e)})}},defineUniqueSelector:function(a){function e(a){a=
a.className||"";return 0<a.length&&(a=a.split(/\s+/),a=g(a,function(a){return/active|enabled|disabled|first|last|only|collapsed|open|clearfix|processed/.test(a)}),0<a.length)?"."+a.join("."):""}function c(a){var c="",b="",g=!1,d=!0;do{var n="",b=a.id||"";if(0<(b=(0<b.length&&(n="#"+b),n)).length){c=b+" "+c;break}!g&&0<(b=e(a)).length&&(c=b+" "+c,1===f(c).length&&(g=!0));if(d){var d=void 0,n="",q=["href","type"];if("undefined"!=typeof a&&"undefined"!=typeof a.attributes&&null!==a.attributes)for(var t=
0,u=q.length;u>t;t++)(d=a.attributes[q[t]]&&a.attributes[q[t]].value)&&(n+="["+q[t]+'\x3d"'+d+'"]');d=n;0<(b=d).length&&(c=b+c);c=a.nodeName.toLowerCase()+c;d=!1}a=a.parentNode}while(a&&1===a.nodeType&&"BODY"!==a.nodeName&&"HTML"!==a.nodeName);return c.trim()}function g(a,c){for(var b=[],e=0,g=a.length;g>e;e++)c.call(null,a[e])||b.push(a[e]);return b}return a&&c(a)},push:[].push,sort:[].sort,concat:[].concat,splice:[].splice},a.fn.init.prototype=a.fn,a}();d.lib.Section=function(){function a(b,e){return new a.fn.init(b,
e)}return a.fn=a.prototype={constructor:a,init:function(a,e){if(!a)return this;if(this.id=a,e.techniques&&e.techniques.length)for(var c=0,g=e.techniques.length;g>c;++c)this.push(d.lib.Technique(e.techniques[c]));return this},length:0,each:function(a){for(var e=[].slice.call(arguments,1),c=0,g=this.length;g>c;++c)e.unshift(this[c]),e.unshift(c),a.apply(this[c],e);return this},find:function(a){for(var e=0,c=this.length;c>e;++e)if(this[e].get("name")===a)return this[e];return null},set:function(a,e){for(var c=
0,g=this.length;g>c;++c)if(this[c].get("name")===a)return this[c].set(e),this[c];c=d.lib.Test(a,e);return this.push(c),c},addTechnique:function(a){this.push(a)},regiterTechniqueTestResult:function(){},push:[].push,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a}();d.lib.SuccessCriteria=function(){function a(b){return new a.fn.init(b)}function b(a){return Object.keys(a).length}return a.fn=a.prototype={constructor:a,init:function(a){return this.listeners={},this.attributes=this.attributes||
{},this.attributes.status="untested",this.attributes.results={},this.attributes.totals={},this.set(a||{}),this},length:0,attributes:null,get:function(a){if("$scope"===a){var c=this.attributes.scope,b=f(this.attributes.scope);return this.attributes[a]?this.attributes[a]:c?b:f(document)}return this.attributes[a]},set:function(a,c){if("object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.attributes[b]=a[b]);else this.attributes[a]=c;return this},each:function(a){for(var c=[].slice.call(arguments,
1),b=0,d=this.length;d>b&&(c.unshift(this[b]),c.unshift(b),!1!==a.apply(this[b],c));++b);return this},add:function(a){this.find(a.get("selector"))||this.push(a)},find:function(a){for(var c=0,b=this.length;b>c;++c)if(this[c].get("selector")===a)return this[c];return null},registerTests:function(a){var c=this.get("preEvaluator"),b=!0;"undefined"!=typeof c&&(b=c.call(this,a));b||this.set("status","inapplicable");this.set("tests",a);this.listenTo(a,"complete",this.evaluate)},filterTests:function(a){var c=
new d.lib.TestCollection,b=this.get("name");if(!b)throw Error("Success Criteria instances require a name in order to have tests filtered.");var f=b.split(":")[1];return a.each(function(a,b){var e=b.getGuidelineCoverage("wcag"),d;for(d in e)e.hasOwnProperty(d)&&d===f&&c.add(b)}),c},addConclusion:function(a,c){this.get("results")[a]||(this.get("results")[a]=d.lib.Test());this.get("results")[a].push(c);this.get("totals")[a]||(this.get("totals")[a]=0);++this.get("totals")[a];this.get("totals").cases||
(this.get("totals").cases=0);++this.get("totals").cases},evaluate:function(a,c){if("inapplicable"!==this.get("status")){var d=this,f=this.filterTests(c);0===f.length?this.set("status","noTestCoverage"):(f.each(function(a,c){c.each(function(a,c){d.addConclusion(c.get("status"),c)})}),0===b(this.get("results"))?this.set("status","noResults"):this.set("status","tested"))}this.report()},report:function(){var a=Array.prototype.slice.call(arguments),a=[].concat(["successCriteriaEvaluated",this,this.get("tests")],
a);this.dispatch.apply(this,a)},listenTo:function(a,c,b){b=b.bind(this);a.registerListener.call(a,c,b)},registerListener:function(a,c){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(c)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var c=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,c)})}},push:[].push,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a}();d.lib.Technique=function(){function a(b,d){return new a.fn.init(b,
d)}return a.fn=a.prototype={constructor:a,init:function(a,d){return this.listeners={},a?(this.attributes=d||{},this.attributes.name=a,this):this},length:0,attributes:{},each:function(a){for(var d=[].slice.call(arguments,1),c=0,g=this.length;g>c;++c)d.unshift(this[c]),d.unshift(c),a.apply(this[c],d);return this},get:function(a){return this.attributes[a]},set:function(a,d){if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&(this.attributes[c]=a[c]);else this.attributes[a]=d;return this},addTest:function(){},
report:function(a,d){window.console&&window.console.log(this.get("name"),d.status,d,d[0]&&d[0].status)},listenTo:function(a,d,c){c=c.bind(this);a.registerListener.call(a,d,c)},registerListener:function(a,d){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(d)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var d=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,d)})}},push:[].push,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,
a}();d.lib.Test=function(){function a(c,b){return new a.fn.init(c,b)}function b(a){a="undefined"==typeof a?!0:a;this.each(function(b,d){d.get("status")||(a=!1)});a?(this.testComplete=null,this.attributes.complete=!0,this.determineStatus()):this.testComplete()}function e(a,b,d){var e,f;return function(){var l=this,p=arguments,n=d&&!e;return clearTimeout(e),e=setTimeout(function(){e=null;d||(f=a.apply(l,p))},b),n&&(f=a.apply(l,p)),f}}return a.fn=a.prototype={constructor:a,init:function(a,b){return this.listeners=
{},this.length=0,a?(this.attributes=b||{},this.attributes.name=a,this.attributes.status="untested",this.attributes.complete=!1,this):this},length:0,attributes:null,each:function(a){for(var b=[].slice.call(arguments,1),d=0,e=this.length;e>d;++d)b.unshift(this[d]),b.unshift(d),a.apply(this[d],b);return this},get:function(a){if("$scope"===a){var b=this.attributes.scope,d=f(this.attributes.scope);return this.attributes[a]?this.attributes[a]:b?d:f(document)}return this.attributes[a]},set:function(a,b){var d=
!1;if("object"==typeof a)for(var e in a)a.hasOwnProperty(e)&&("status"===e&&(d=!0),this.attributes[e]=a[e]);else"status"===a&&(d=!0),this.attributes[a]=b;return d&&this.resolve(),this},add:function(a){return this.listenTo(a,"resolve",this.caseResponded),this.listenTo(a,"timeout",this.caseResponded),a.status&&a.dispatch("resolve",a),this.push(a),a},invoke:function(){if(this.testComplete)throw Error("The test "+this.get("name")+" is already running.");if(this.attributes.complete)throw Error("The test "+
this.get("name")+" has already been run.");var a=this.get("type"),g=this.get("options")||{},f=this.get("callback");if(this.testComplete=e(b.bind(this),400),this.testComplete(!1),"custom"===a)if("function"==typeof f)try{f.call(this,d,this,d.lib.Case,g)}catch(k){window.console&&window.console.error&&window.console.error(k)}else{if("custom"!==a||"function"!=typeof d[f])throw Error("The callback "+f+" cannot be invoked.");try{d[f].call(this,d,this,d.lib.Case,g)}catch(h){window.console&&window.console.error&&
window.console.error(h)}}else{if("function"!=typeof d.components[a])throw Error("The component type "+a+" is not defined.");try{d.components[a].call(this,d,this,d.lib.Case,g)}catch(l){window.console&&window.console.error&&window.console.error(l)}}return this.testComplete(),this},findByStatus:function(c){if(c){var b=new a;"string"==typeof c&&(c=[c]);for(var d=0,e=c.length;e>d;++d){var f=c[d];this.each(function(a,c){c.get("status")===f&&b.add(c)})}return b}},findCasesBySelector:function(c){var b=this.groupCasesBySelector();
return b.hasOwnProperty(c)?b[c]:new a},findCaseByHtml:function(a){for(var b,e=0,f=this.length;f>e;++e)if(b=this[e],a===b.get("html"))return b;return d.lib.Case()},groupCasesBySelector:function(){var c={};return this.each(function(b,d){var e=d.get("selector");c[e]||(c[e]=new a);c[e].add(d)}),c},groupCasesByHtml:function(){var c={};return this.each(function(b,d){var e=d.get("html");c[e]||(c[e]=new a);c[e].add(d)}),c},getGuidelineCoverage:function(a){var b=this.get("guidelines");return b&&b[a]||{}},
caseResponded:function(a,b){this.dispatch(a,this,b);"function"==typeof this.testComplete&&this.testComplete()},determineStatus:function(){var a,b=this.get("type");d.components[b]&&"function"==typeof d.components[b].postInvoke&&(a=d.components[b].postInvoke.call(this,this));this.set(!0===a?{status:"passed"}:this.findByStatus(["cantTell"]).length===this.length?{status:"cantTell"}:this.findByStatus(["inapplicable"]).length===this.length?{status:"inapplicable"}:this.findByStatus(["failed","untested"]).length?
{status:"failed"}:{status:"passed"})},resolve:function(){this.dispatch("complete",this)},testComplete:null,listenTo:function(a,b,d){d=d.bind(this);a.registerListener.call(a,b,d)},registerListener:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var b=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,b)})}},push:[].push,sort:[].sort,concat:[].concat,splice:[].splice},a.fn.init.prototype=
a.fn,a}();d.lib.TestCollection=function(){function a(c){return new a.fn.init(c)}function b(){var a=!0;this.each(function(b,d){d.get("complete")||(a=!1)});a?(this.testsComplete=null,this.dispatch("complete",this)):this.testsComplete()}function e(a,b,d){var e,f;return function(){var l=this,p=arguments,n=d&&!e;return clearTimeout(e),e=setTimeout(function(){e=null;d||(f=a.apply(l,p))},b),n&&(f=a.apply(l,p)),f}}return a.fn=a.prototype={constructor:a,init:function(a,b){if(this.listeners={},b=b||{},!a)return this;
if("object"==typeof a){var e,f;for(f in a)a.hasOwnProperty(f)&&(a[f].scope=a[f].scope||b.scope,e=new d.lib.Test(f,a[f]),this.listenTo(e,"results",this.report),this.push(e))}return this},length:0,run:function(a){var d=this;return a=a||{},this.each(function(b,e){a.preFilter&&d.listenTo(e,"resolve",function(b,d,e){!1===a.preFilter(b,d,e)&&(e.attributes.status="notTested",e.attributes.expected=null)});a.caseResolve&&d.listenTo(e,"resolve",a.caseResolve);a.testComplete&&d.listenTo(e,"complete",a.testComplete)}),
a.testCollectionComplete&&d.listenTo(d,"complete",a.testCollectionComplete),this.testsComplete=e(b.bind(this),500),this.each(function(a,b){b.invoke()}),this.testsComplete(),this},each:function(a){for(var b=[].slice.call(arguments,1),d=0,e=this.length;e>d&&(b.unshift(this[d]),b.unshift(d),!1!==a.apply(this[d],b));++d);return this},add:function(a){this.find(a.get("name"))||this.push(a)},find:function(a){for(var b=0,d=this.length;d>b;++b)if(this[b].get("name")===a)return this[b];return null},findByGuideline:function(b){var d=
{wcag:function(d,e){function f(b,c,d){var e=new a;return this.each(function(a,f){var g=f.get("guidelines");if(g=g[b]&&g[b][c]&&g[b][c].techniques)for(var h=0,n=g.length;n>h;++h)g[h]===d&&(e.listenTo(f,"results",e.report),e.add(f))}),e}var g=d.id,n=e.get("name");return g&&n?f.call(this,b,g,n):void 0}};if(d[b]){var e=[].slice.call(arguments,1);return d[b].apply(this,e)}},findByStatus:function(b){if(b){var d=new a;"string"==typeof b&&(b=[b]);for(var e=0,f=b.length;f>e;++e){var h=b[e];this.each(function(a,
b){b.get("status")===h&&d.add(b)})}return d}},set:function(a,b){for(var e=0,f=this.length;f>e;++e)if(this[e].get("name")===a)return this[e].set(b),this[e];e=d.lib.Test(a,b);return this.push(e),e},testsComplete:null,report:function(){this.dispatch.apply(this,arguments)},listenTo:function(a,b,d){d=d.bind(this);a.registerListener.call(a,b,d)},registerListener:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var b=
[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,b)})}},push:[].push,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a}();d.lib.WCAGGuideline=function(){var a=function(b){return new a.fn.init(b)};return a.fn=a.prototype={constructor:a,init:function(a){if(!a)return this;this.techniques=[];var e,c,f,m,k;if("object"==typeof a&&a.guidelines){e=a.guidelines;for(var h in e)if(e.hasOwnProperty(h)){if(c=e[h],c.techniques&&c.techniques.length&&(f=c.techniques,delete c.techniques),
c=d.lib.Section(h,c),f.length)for(var l=0,p=f.length;p>l;++l){if(m=f[l],!a.techniques[m])throw Error("Definition for Technique "+m+" is missing from the guideline specification");(k=this.findTechnique(m))||(k=d.lib.Technique(m,a.techniques[m]),this.techniques.push(k));c.addTechnique(k)}this.push(c)}}return this},length:0,each:function(a){for(var d=[].slice.call(arguments,1),c=0,f=this.length;f>c;++c)d.unshift(this[c]),d.unshift(c),a.apply(this[c],d);return this},find:function(a){for(var d=0,c=this.length;c>
d;++d)if(this[d].get("name")===a)return this[d];return null},findTechnique:function(a){for(var d=0,c=this.techniques.length;c>d;++d)if(this.techniques[d].get("name")===a)return this.techniques[d];return null},set:function(a,e){for(var c=0,f=this.length;f>c;++c)if(this[c].get("name")===a)return this[c].set(e),this[c];c=d.lib.Test(a,e);return this.push(c),c},evaluate:function(){},results:function(){},push:[].push,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a}();(function(a){function b(b,
c,d,e){d=c.attr("rowspan")||1;c=c.attr("scope");if("col"===c)return!0;if(-1!==l.indexOf(c))return!1;for(c=0;c<d*b[e].length-1;c+=1)if(a(b[e+c%d][~~(c/d)]).is("td"))return!1;return!0}function d(c,e,f,g){var h=e.attr("colspan")||1,k=e.attr("scope");if("row"===k)return!0;if(-1!==l.indexOf(k)||b(c,e,f,g))return!1;for(e=0;e<h*c.length-1;e+=1)if(a(c[~~(e/h)][f+e%h]).is("td"))return!1;return!0}function c(c,f,g,h,l){var k,m,v=a(),x=a(c[g][f]),B=[];for(x.is("th")?(m=[{cell:x,x:f,y:g}],k=!0):(k=!1,m=[]);0<=
f&&0<=g;f+=h,g+=l){var w=a(c[g][f]),z=0===h?"col":"row";if(w.is("th")){k=!0;m.push({cell:w,x:f,y:g});var y=!1;-1===l&&d(c,w,f,g)||-1===h&&b(c,w,f,g)?y=!0:a.each(B,function(b,c){var d=+w.attr(z+"span")||1,e=+a(c.cell).attr(z+"span")||1;d===e&&(-1===l&&c.x===f||-1===h&&c.y===g)&&(y=!0)});!1===y&&(v=v.add(w))}else w.is("td")&&!0===k&&(k=!1,B.push(m),m=a())}return v}function f(b){var c=b.closest("table");b=b.attr("headers").split(/\s/);var d=a();return a.each(b,function(b,e){d=d.add(a("th#"+e+", td#"+
e,c))}),d}function m(a,b){for(var c,d=0,e=0;void 0===c;){if(void 0===a[e])return;a[e][d]===b[0]?c=d:d+1===a[e].length?(e+=1,d=0):d+=1}return{x:c,y:e}}function k(b,d){var e,f=a(),g=m(d,b),h=+b.attr("rowspan")||1,l=+b.attr("colspan")||1;for(e=0;l>e;e++)f=f.add(c(d,g.x+e,g.y,0,-1));for(e=0;h>e;e++)f=f.add(c(d,g.x,g.y+e,-1,0));return f}function h(b,c){var d=m(c,b),e=a();b.closest("thead, tbody, tfoot").find("th[scope\x3drowgroup]").each(function(){var b=m(c,a(this));b.x<=d.x&&b.y<=d.y&&(e=e.add(this))})}
var l=["row","col","rowgroup","colgroup"];a.fn.getTableMap=function(){var b=[];return this.find("tr").each(function(c){"undefined"==typeof b[c]&&(b[c]=[]);var d=b[c];a(this).children().each(function(){var e,f,g;f=a(this);var h=+f.attr("rowspan")||1,l=+f.attr("colspan")||1;f=0;for(g=d.length;g>=f;f+=1)void 0===e&&void 0===d[f]&&(e=f);f=0;for(g=l*h;g>f;f+=1)void 0===b[c+~~(f/l)]&&(b[c+~~(f/l)]=[]),b[c+~~(f/l)][e+f%l]=this})}),b};a.fn.tableHeaders=function(){var b=a();return this.each(function(){var c=
a(this);if(!c.is(":not(td, th)"))if(c.is("[headers]"))b=b.add(f(c));else{var d=c.closest("table").getTableMap();b=b.add(k(c,d)).add(h(c,d))}}),b.not(":empty").not(this)}})(jQuery);d.lib.wcag2=function(){function a(a,e,m,k){var h,l,p=[];e=f.map(e,function(b){return new d.lib.wcag2.Criterion(b,m,k,a.subject)});f.each(e,function(a,b){p.push.apply(p,b.getTests())});l=[];h=[];f.each(p,function(a,b){-1===l.indexOf(b.title.en)&&(l.push(b.title.en),h.push(b))});f(d.html).quail({accessibilityTests:h,testCollectionComplete:b(e,
a.testCollectionComplete)})}function b(a,b){return function(d,e){"complete"===d&&(e=f.map(a,function(a){return a.getResult(e)}));b(d,e)}}var e={async:!1,dataType:"json"};return{run:function(b){b.wcag2Structure&&b.accessibilityTests&&b.preconditionTests?a(b,b.wcag2Structure,b.accessibilityTests,b.preconditionTests):f.when(f.ajax(b.jsonPath+"/wcag2.json",e),f.ajax(b.jsonPath+"/tests.json",e),f.ajax(b.jsonPath+"/preconditions.json",e)).done(function(d,e,f){a(b,d[0],e[0],f[0])})}}}();d.guidelines.wcag.successCriteria["1.1.1"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:1.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={F3:"Using CSS to include images that convey important information",F13:"Having a text alternative that does not include information that is conveyed by color differences in the image",F20:"Not updating text alternatives when changes to non-text content occur",F30:"Using text alternatives that are not alternatives (e.g., filenames or placeholder text)",F38:"Not marking up decorative images in HTML in a way that allows assistive technology to ignore them",
F39:'Providing a text alternative that is not null (e.g., alt\x3d"spacer" or alt\x3d"image") for images that should be ignored by assistive technology',F65:'Omitting the alt attribute or text alternative on img elements, area elements, and input elements of type "image"',F67:"Providing long descriptions for non-text content that does not serve the same purpose or does not present the same information",F71:"Using text look-alikes to represent text without providing a text alternative",F72:"Using ASCII art without providing a text alternative"},
a}(d);d.guidelines.wcag.successCriteria["1.2.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.2.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.2",preEvaluator:function(){return!0}});return a.techniques={G93:"Providing open (always visible) captions",G87:"Providing closed captions"},a.failures={F74:"Not labeling a synchronized media alternative to text as an alternative",
F75:"Providing synchronized media without captions when the synchronized media presents more information than is presented on the page",F8:"Captions omitting some dialogue or important sound effects"},a}(d);d.guidelines.wcag.successCriteria["1.2.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.2.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.4",preEvaluator:function(){return!0}});
return a.techniques={G9:"Creating captions for live synchronized media",G93:"Providing open (always visible) captions",G87:"Providing closed captions using any readily available media format that has a video player that supports closed captioning"},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.2.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.5",preEvaluator:function(){return!0}});return a.techniques={G78:"Providing a second, user-selectable, audio track that includes audio descriptions",
G173:"Providing a version of a movie with audio descriptions","SC1.2.8":"Providing a movie with extended audio descriptions",G8:"Providing a movie with extended audio descriptions",G203:"Using a static text alternative to describe a talking head video"},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.2.7"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.7",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.2.8"]=function(a){a=
a.lib.SuccessCriteria({name:"wcag:1.2.8",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.2.9"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.9",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.3.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.3.1",preEvaluator:function(){return!0}});return a.techniques={G115:"Using semantic elements to mark up structure AND H49: Using semantic markup to mark emphasized or special text",
G117:"Using text to convey information that is conveyed by variations in presentation of text",G140:"Separating information and structure from presentation to enable different presentations",G138:"Using semantic markup whenever color cues are used",H48:"Using ol, ul and dl for lists or groups of links",H42:"Using h1-h6 to identify headings",SCR21:"Using functions of the Document Object Model (DOM) to add content to a page (Scripting)",H51:"Using table markup to present tabular information",H39:"Using caption elements to associate data table captions with data tables",
H73:"Using the summary attribute of the table element to give an overview of data tables",H63:"Using the scope attribute to associate header cells and data cells in data tables",H43:"Using id and headers attributes to associate data cells with header cells in data tables",H44:"Using label elements to associate text labels with form controls",H65:"Using the title attribute to identify form controls when the label element cannot be used",H71:"Providing a description for groups of form controls using fieldset and legend elements",
H85:"Using OPTGROUP to group OPTION elements inside a SELECT",ARIA11:"Using ARIA landmarks to identify regions of a page (ARIA)",ARIA12:"Using role\x3dheading to identify headings (ARIA)",ARIA13:"Using aria-labelledby to name regions and landmarks (ARIA)",ARIA16:"Using aria-labelledby to provide a name for user interface controls (ARIA)",ARIA17:"Using grouping roles to identify related form controls (ARIA)"},a.failures={F2:"Using changes in text presentation to convey information without using the appropriate markup or text",
F17:"Insufficient information in DOM to determine one-to-one relationships (e.g., between labels with same id) in HTML",F42:"Using scripting events to emulate links in a way that is not programmatically determinable",F43:"Using structural markup in a way that does not represent relationships in the content",F87:"Inserting non-decorative content by using :before and :after pseudo-elements and the content property in CSS",F46:"Using th elements, caption elements, or non-empty summary attributes in layout tables",
F48:"Using the pre element to markup tabular information",F90:"Incorrectly associating table headers and content via the headers and id attributes",F91:"Not correctly marking up table headers",F33:"Using white space characters to create multiple columns in plain text content",F34:"Using white space characters to format tables in plain text content",F68:"Association of label and user interface controls not being programmatically determinable"},a}(d);d.guidelines.wcag.successCriteria["1.3.2"]=function(a){a=
a.lib.SuccessCriteria({name:"wcag:1.3.2",preEvaluator:function(){return!0}});return a.techniques={G57:"Ordering the content in a meaningful sequence (scope: for all the content in the Web page)",H34:"Using a Unicode right-to-left mark (RLM) or left-to-right mark (LRM) to mix text direction inline (languageUnicodeDirection)",H56:"Using the dir attribute on an inline element to resolve problems with nested directional runs",C6:"Positioning content based on structural markup (CSS)",C8:"Using CSS letter-spacing to control spacing within a word",
C27:"Making the DOM order match the visual order (CSS)"},a.failures={F49:"Using an HTML layout table that does not make sense when linearized",F32:"Using white space characters to control spacing within a word (whiteSpaceInWord)",F1:"Changing the meaning of content by positioning information with CSS",F34:"Using white space characters to format tables in plain text content (tabularDataIsInTable)",F33:"Using white space characters to create multiple columns in plain text content (tabularDataIsInTable)"},
a}(d);d.guidelines.wcag.successCriteria["1.3.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.3.3",preEvaluator:function(){return!0}});return a.techniques={G96:"Providing textual identification of items that otherwise rely only on sensory information to be understood"},a.failures={F14:"Identifying content only by its shape or location",F26:"Using a graphical symbol alone to convey information"},a}(d);d.guidelines.wcag.successCriteria["1.4.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.1",
preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.4.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.2",preEvaluator:function(){return!!f("audio, video, object, embed").length}});return a.techniques={G60:"Playing a sound that turns off automatically within three seconds",G170:"Providing a control near the beginning of the Web page that turns off sounds that play automatically",G171:"Playing sounds only on user request"},a.failures=
{F23:"Playing a sound longer than 3 seconds where there is no mechanism to turn it off"},a}(d);d.guidelines.wcag.successCriteria["1.4.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.3",preEvaluator:function(){return!0}});return a.techniques={G148:"Not specifying background color, not specifying text color, and not using technology features that change those defaults",G174:"Providing a control with a sufficient contrast ratio that allows users to switch to a presentation that uses sufficient contrast",
G18:"Ensuring that a contrast ratio of at least 4.5:1 exists between text (and images of text) and background behind the text for situation A AND G145: Ensuring that a contrast ratio of at least 3:1 exists between text (and images of text) and background behind the text for situation B"},a.failures={F24:"Specifying foreground colors without specifying background colors or vice versa",F83:"Using background images that do not provide sufficient contrast with foreground text (or images of text)"},a}(d);
d.guidelines.wcag.successCriteria["1.4.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.4",preEvaluator:function(){return!0}});return a.techniques={G142:"Using a technology that has commonly-available user agents that support zoom",C12:"Using percent for font sizes",C13:"Using named font sizes",C14:"Using em units for font, sizes",SCR34:"Calculating size and ,position in a way that scales with text size (Scripting)",G146:"Using liquid layout",G178:"Providing controls on the Web page that allow users to incrementally change the size of all text on the page up to 200 percent",
G179:"Ensuring that there is no loss of content or functionality when the text resizes and text containers do not change their width"},a.failures={F69:"Resizing visually rendered text up to 200 percent causes the text, image or controls to be clipped, truncated or obscured",F80:"Text-based form controls do not resize when visually rendered text is resized up to 200%"},a}(d);d.guidelines.wcag.successCriteria["1.4.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.5",preEvaluator:function(){return!!document.querySelectorAll("img, map").length}});
return a.techniques={C22:"Using CSS to control visual presentation of text (CSS)",C30:"Using CSS to replace text with images of text and providing user interface controls to switch",G140:"Separating information and structure from presentation to enable different presentations"},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.4.6"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.4.7"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.7",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.4.8"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.8",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["1.4.9"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.9",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.1.1"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.1.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.1.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.1.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.1.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.2.1"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.2.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.2.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.2.4"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.2.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.3.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.3.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.3.2"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.3.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.1",preEvaluator:function(){return!0}});return a.techniques={G1:"Adding a link at the top of each page that goes directly to the main content area",G123:"Adding a link at the beginning of a block of repeated content to go to the end of the block",G124:"Adding links at the top of the page to each area of the content",
H69:"Providing heading elements at the beginning of each section of content",H70:"Using frame elements to group blocks of repeated material AND H64: Using the title attribute of the frame and iframe elements",SCR28:"Using an expandable and collapsible menu to bypass block of content"},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.10"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.10",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.2"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.5"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.6"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.7"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.7",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.8"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.8",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["2.4.9"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.9",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.1.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.1.2"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.1.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.1.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.1.5"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.1.6"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.2.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.1",preEvaluator:function(){return!0}});return a.techniques={G107:'Using "activate" rather than "focus" as a trigger for changes of context'},
a.failures={F52:"Opening a new window as soon as a new page is loaded",F55:"Using script to remove focus when focus is received"},a}(d);d.guidelines.wcag.successCriteria["3.2.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.2",preEvaluator:function(){return!0}});return a.techniques={G80:"Providing a submit button to initiate a change of context",H32:"Providing submit buttons",H84:"Using a button with a select element to perform an action",G13:"Describing what will happen before a change to a form control that causes a change of context to occur is made",
SCR19:"Using an onchange event on a select element without causing a change of context"},a.failures={F36:"Automatically submitting a form and presenting new content without prior warning when the last field in the form is given a value",F37:"Launching a new window without prior warning when the status of a radio button, check box or select list is changed",F76:"Providing instruction material about the change of context by change of setting in a user interface element at a location that users may bypass"},
a}(d);d.guidelines.wcag.successCriteria["3.2.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.3",preEvaluator:function(){return!0}});return a.techniques={G61:"Presenting repeated components in the same relative order each time they appear"},a.failures={F66:"Presenting navigation links in a different relative order on different pages"},a}(d);d.guidelines.wcag.successCriteria["3.2.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.4",preEvaluator:function(){return!0}});return a.techniques=
{G197:"Using labels, names, and text alternatives consistently for content that has the same functionality AND following the sufficient techniques for Success Criterion 1.1.1 and sufficient techniques for Success Criterion 4.1.2 for providing labels, names, and text alternatives."},a.failures={F31:"Using two different labels for the same function on different Web pages within a set of Web pages"},a}(d);d.guidelines.wcag.successCriteria["3.2.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.5",
preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.3.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.3.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.3.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.3",
preEvaluator:function(){function a(b){return!!this.querySelectorAll('[type\x3d"'+b+'"]').length}function d(a){var b=Object.keys(a)[0];return!!this.querySelectorAll("["+b+'\x3d"'+a[b]+'"]').length}var c="checkbox color date datetime datetime-local email file hidden month number password radio range search tel time url week".split(" "),f=[{required:"required"},{"aria-required":"true"}];return document.querySelectorAll("form").length?c.some(a,document)||f.some(d,document)?!0:void 0:!1}});return a.techniques=
{G83:"Providing text descriptions to identify required fields that were not completed",ARIA2:"Identifying a required field with the aria-required property",ARIA18:"Using aria-alertdialog to Identify Errors (ARIA)",G85:"Providing a text description when user input falls outside the required format or values",G177:"Providing suggested correction text",SCR18:"Providing client-side validation and alert (Scripting)",SCR32:"Providing client-side validation and adding error text via the DOM (Scripting)",
G84:"Providing a text description when the user provides information that is not in the list of allowed values"},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.3.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.3.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["3.3.6"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["4.1.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:4.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(d);d.guidelines.wcag.successCriteria["4.1.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:4.1.2",preEvaluator:function(){return!0}});return a.techniques={ARIA14:"Using aria-label to provide an invisible label where a visible label cannot be used",
ARIA16:"Using aria-labelledby to provide a name for user interface controls",G108:"Using markup features to expose the name and role, allow user-settable properties to be directly set, and provide notification of changes using technology-specific techniques below:",H91:"Using HTML form controls and links",H44:"Using label elements to associate text labels with form controls",H64:"Using the title attribute of the frame and iframe elements",H65:"Using the title attribute to identify form controls when the label element cannot be used",
H88:"Using HTML according to spec"},a.failures={F59:"Using script to make div or span a user interface control in HTML without providing a role for the control (This failure may be solved in the future using DHTML roadmap techniques.)",F20:"Not updating text alternatives when changes to non-text content occur",F68:"Association of label and user interface controls not being programmatically determined",F79:"Focus state of a user interface component not being programmatically determinable or no notification of change of focus state available",
F86:"Not providing names for each part of a multi-part form field, such as a US telephone number",F89:"Using null alt on an image where the image is the only content in a link"},a}(d);d.lib.wcag2.Criterion=function(){function a(a,e){var c=d.lib.wcag2.EarlAssertion.getResultPriority,g={result:e};return f.each(a,function(a,b){c(g)<c(b)&&(g.result=b.outcome.result)}),g}return function(b,e,c,g){var m=[],k={},h=b["default"]||"untested",l=b.id;(f.isArray(b.testAggregators)&&(m=f.map(b.testAggregators,function(a){return new d.lib.wcag2.TestAggregator(a,
e,g)})),f.isArray(b.preconditions))&&m.push(new d.lib.wcag2.TestAggregator({type:"stacking",tests:b.preconditions},c,g));return k.getResult=function(b){var c,e=[];return f.each(m,function(a,c){var d=c.getResults(b);e.push.apply(e,d)}),c=new d.lib.wcag2.EarlAssertion({testRequirement:l,outcome:a(e,h),subject:g}),0<e.length&&(c.hasPart=e),c},k.getTests=function(){var a=[];return f.each(m,function(b,c){a.push.apply(a,c.tests)}),a},k}}();d.lib.wcag2.EarlAssertion=function(){function a(a){f.extend(this,
a,c);this.outcome=f.extend({},this.outcome)}var b,d=["untested","inapplicable","passed","cantTell","failed"],c={type:"assertion",subject:b,assertedBy:{type:"earl:Software",name:"QuailJS"},mode:"automated"};return window&&window.location&&(b=window.location.href),a.getResultPriority=function(a){return"object"==typeof a&&(a=a.outcome?a.outcome.result:a.result),d.indexOf(a)},a}();d.lib.wcag2.TestAggregator=function(){function a(a,b){f.each(a,function(a,c){c.each(function(){b.call(this,c,this)})})}function b(a){var b=
[],c=[];return f.each(a,function(a,b){var d=[];b.each(function(){d.push(this.get("element"));h.add(this)});c.push(d)}),f.each(c,function(a,c){if(0===a)return void(b=c);var d=[];f.each(c,function(a,c){-1!==b.indexOf(c)&&d.push(c)});b=d}),b}function e(b){var c=[];return a(b,function(a,b){var d=b.get("element");-1===c.indexOf(d)&&(c.push(d),h.add(b))}),c}function c(a,b){var c=[];return f.each(a,function(a,e){var f=new d.lib.wcag2.EarlAssertion(b);e&&(f.outcome.pointer=h.getPointer(e));c.push(f)}),c}
function g(e,f){var g=jQuery.unique(b(f)),h=c(jQuery.unique(g),{testCase:e.id,outcome:{result:"failed"}});return a(f,function(a,b){var c=b.get("status"),f=d.lib.wcag2.EarlAssertion.getResultPriority,k=h[g.indexOf(b.get("element"))];if(e[c]&&(c=e[c]),k&&f(k)>=f(c))f=k.outcome.pointer,k.outcome={result:c,info:a.get("title")},f&&(k.outcome.pointer=f)}),h}function m(b,f){var g=e(f),h=c(g,{testCase:b.id,outcome:{result:"untested"}});return a(f,function(a,c){var e=c.get("status"),f=d.lib.wcag2.EarlAssertion.getResultPriority,
k=h[g.indexOf(c.get("element"))];b[e]&&(e=b[e]);k&&f(k)<f(e)&&(k.outcome={result:e,info:a.get("title")})}),h}function k(a,b,c){f.extend(this,{id:a.tests.join("+"),subject:c},a);this.tests=f.map(this.tests,function(a){return b[a]})}var h={elms:[],pointers:[],add:function(a){var b;-1===h.elms.indexOf(a.get("element"))&&(a.get("html")&&(b=[{type:"CharSnippetCompoundPointer",chars:a.get("html"),CSSSelector:a.get("selector")}]),h.elms.push(a.get("element")),h.pointers.push(b))},getPointer:function(a){a=
h.elms.indexOf(a);return h.pointers[a]}};return k.prototype.filterDataToTests=function(a){var b=f.map(this.tests,function(a){return a.name}),c=[];return f.each(a,function(a,d){-1!==b.indexOf(d.get("name"))&&c.push(d)}),c},k.prototype.getResults=function(a){var b,c;a=this.filterDataToTests(a);return 1===a.length||"combined"===this.type?b=g(this,a):"stacking"===this.type?b=m(this,a):window&&window.console.error("Unknown type for aggregator "+this.id),b?(0===b.length&&(c=new d.lib.wcag2.EarlAssertion({testCase:this.id,
subject:this.subject,outcome:{result:"inapplicable"}}),b.push(c)),b):void 0},k}()}(jQuery);