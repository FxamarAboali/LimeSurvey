(function(){CKEDITOR.plugins.add("Audio",{lang:["en","es"],getPlaceholderCss:function(){return"img.cke_audio{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;background-color:gray;border: 1px solid #a9a9a9;width: 80px;height: 80px;}"},onLoad:function(){CKEDITOR.addCss&&CKEDITOR.addCss(this.getPlaceholderCss())},init:function(b){var c=b.lang.audio;"undefined"==typeof b.element.data?alert('The "audio" plugin requires CKEditor 3.5 or newer'):
(CKEDITOR.dialog.add("audio",this.path+"dialogs/audio.js"),b.addCommand("Audio",new CKEDITOR.dialogCommand("audio")),b.ui.addButton("Audio",{label:c.toolbar,command:"Audio",icon:this.path+"images/icon.png"}),b.addCss&&b.addCss(this.getPlaceholderCss()),b.addMenuItems&&b.addMenuItems({audio:{label:c.properties,command:"Audio",group:"flash"}}),b.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&"audio"==b.data("cke-real-element-type")&&(a.data.dialog="audio")}),b.contextMenu&&b.contextMenu.addListener(function(a,
b){if(a&&a.is("img")&&!a.isReadOnly()&&"audio"==a.data("cke-real-element-type"))return{audio:CKEDITOR.TRISTATE_OFF}}),CKEDITOR.dtd.$empty["cke:source"]=1,CKEDITOR.dtd.$empty.source=1,b.lang.fakeobjects.audio=c.fakeObject)},afterInit:function(b){var c=b.dataProcessor;(c&&c.dataFilter).addRules({elements:{$:function(a){if("audio"==a.name){a.name="cke:audio";for(var d=0;d<a.children.length;d++)"source"==a.children[d].name&&(a.children[d].name="cke:source");var d=b.createFakeParserElement(a,"cke_audio",
"audio",!1),c=d.attributes.style||"",e=a.attributes.width,f=a.attributes.height;a=a.attributes.poster;"undefined"!=typeof e&&(c=d.attributes.style=c+"width:"+CKEDITOR.tools.cssLength(e)+";");"undefined"!=typeof f&&(c=d.attributes.style=c+"height:"+CKEDITOR.tools.cssLength(f)+";");a&&(d.attributes.style=c+"background-image:url("+a+");");return d}}}})}});var e={toolbar:"Audio",dialogTitle:"Audio properties",fakeObject:"Audio",properties:"Edit audio",widthRequired:"Width field cannot be empty",heightRequired:"Height field cannot be empty",
poster:"Poster image",sourceaudio:"Source audio",sourceType:"Audio type",linkTemplate:'\x3ca href\x3d"%src%"\x3e%type%\x3c/a\x3e ',fallbackTemplate:"Your browser doesn't support audio.\x3cbr\x3ePlease download the file: %links%"},f={toolbar:"Audio",dialogTitle:"Propiedades de audio",fakeObject:"Audio",properties:"Editar el audio",widthRequired:"La anchura no se puede dejar en blanco",heightRequired:"La altura no se puede dejar en blanco",poster:"Imagen de presentación",sourceaudio:"Archivo de audio",
sourceType:"Tipo",linkTemplate:'\x3ca href\x3d"%src%"\x3e%type%\x3c/a\x3e ',fallbackTemplate:"Su navegador no soporta audio.\x3cbr\x3ePor favor, descargue el fichero: %links%"};CKEDITOR.skins&&(e={audio:e},f={audio:f});CKEDITOR.plugins.setLang("audio","en",e);CKEDITOR.plugins.setLang("audio","es",f)})();