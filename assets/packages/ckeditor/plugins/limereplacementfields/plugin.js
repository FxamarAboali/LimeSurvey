(function(){var a=/(\{[A-Z]+[^\{\}]+[A-Z0-9]+\})/g;CKEDITOR.plugins.add("limereplacementfields",{requires:["dialog"],lang:["en"],init:function(b){var a=b.lang.limereplacementfields;b.addCommand("createlimereplacementfields",new CKEDITOR.dialogCommand("createlimereplacementfields"));b.addCommand("editlimereplacementfields",new CKEDITOR.dialogCommand("editlimereplacementfields"));b.ui.addButton("Createlimereplacementfields",{label:a.title,command:"createlimereplacementfields",icon:this.path+"limereplacementfields.gif"});
b.addMenuItems&&(b.addMenuGroup("limereplacementfields",20),b.addMenuItems({editlimereplacementfields:{label:a.title,command:"editlimereplacementfields",group:"limereplacementfields",order:1,icon:this.path+"limereplacementfields.gif"}}),b.contextMenu&&b.contextMenu.addListener(function(a,b){return a&&a.data("cke-limereplacementfields")?{editlimereplacementfields:CKEDITOR.TRISTATE_OFF}:null}));b.on("doubleclick",function(a){CKEDITOR.plugins.limereplacementfields.getSelectedPlaceHoder(b)&&(a.data.dialog=
"editlimereplacementfields")});CKEDITOR.addCss(".cke_limereplacementfields{background-color: #ffff00;"+(CKEDITOR.env.gecko?"cursor: default;":"")+"}");b.on("contentDom",function(){b.document.getBody().on("resizestart",function(a){b.getSelection().getSelectedElement().data("cke-limereplacementfields")&&a.data.preventDefault()})});CKEDITOR.dialog.add("createlimereplacementfields",this.path+"dialogs/limereplacementfields.js");CKEDITOR.dialog.add("editlimereplacementfields",this.path+"dialogs/limereplacementfields.js")},
afterInit:function(b){var c=b.dataProcessor,d=c&&c.dataFilter,c=c&&c.htmlFilter;d&&d.addRules({text:function(c){return c.replace(a,function(a){return CKEDITOR.plugins.limereplacementfields.createlimereplacementfields(b,null,a,1)})}});c&&c.addRules({elements:{span:function(a){a.attributes&&a.attributes["data-cke-limereplacementfields"]&&delete a.name}}})}})})();CKEDITOR.plugins.setLang("limereplacementfields","en",{title:sReplacementFieldTitle,button:sReplacementFieldButton});
CKEDITOR.plugins.limereplacementfields={createlimereplacementfields:function(a,b,c,d){if(d)return c;a.insertText(c);return null},getSelectedPlaceHoder:function(a){a=a.getSelection().getRanges()[0];a.shrink(CKEDITOR.SHRINK_TEXT);for(a=a.startContainer;a&&(a.type!=CKEDITOR.NODE_ELEMENT||!a.data("cke-limereplacementfields"));)a=a.getParent();return a}};