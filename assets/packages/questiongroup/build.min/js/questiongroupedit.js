(function(t){function e(e){for(var o,s,a=e[0],u=e[1],c=e[2],d=0,g=[];d<a.length;d++)s=a[d],r[s]&&g.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(g.length)g.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={main:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){n("5b0f"),t.exports=n("3d90")},"3d90":function(t,e,n){},5254:function(t,e,n){},5974:function(t,e,n){"use strict";var o=n("fe5e"),r=n.n(o);r.a},"5b0f":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("a026"),r=n("3730"),i=n.n(r),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-center scoped-new-questioneditor"},[t.allowSwitchEditing?n("div",{staticClass:"btn-group pull-right clear"},[n("button",{staticClass:"btn ",class:t.editQuestionGroup?"btn-default":"btn-primary",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.triggerEditQuestionGroup(e)}}},[t._v("\n            "+t._s(t._f("translate")("Question group overview"))+"\n        ")]),n("button",{staticClass:"btn ",class:t.editQuestionGroup?"btn-primary":"btn-default",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.triggerEditQuestionGroup(e)}}},[t._v("\n            "+t._s(t._f("translate")("Question group editor"))+"\n        ")])]):t._e(),n("div",{staticClass:"pagetitle h3 scoped-unset-pointer-events"},[t.isCreateQuestionGroup?[t._v("\n                "+t._s(t._f("translate")("Create new question group"))+"\n        ")]:[t._v("\n                "+t._s(t._f("translate")("Question group"))+" "),n("small",[t._v("(ID: "+t._s(t.$store.state.currentQuestionGroup.gid)+")")])]],2),t.$store.getters.fullyLoaded?[n("div",{staticClass:"row"},[n("languageselector",{attrs:{elId:"questiongroup-language-changer",aLanguages:t.$store.state.languages,parentCurrentLanguage:t.$store.state.activeLanguage},on:{change:t.selectLanguage}})],1),n("div",{staticClass:"row"},[n("question-group-overview",{directives:[{name:"show",rawName:"v-show",value:!(t.editQuestionGroup||t.isCreateQuestionGroup),expression:"!(editQuestionGroup || isCreateQuestionGroup)"}],attrs:{event:t.event},on:{triggerEvent:t.triggerEvent,eventSet:t.eventSet}}),n("question-group-editor",{directives:[{name:"show",rawName:"v-show",value:t.editQuestionGroup||t.isCreateQuestionGroup,expression:"(editQuestionGroup || isCreateQuestionGroup)"}],attrs:{event:t.event},on:{triggerEvent:t.triggerEvent,eventSet:t.eventSet}})],1),n("div",{staticClass:"row"},[n("question-list",{attrs:{event:t.event,readonly:!(t.editQuestionGroup||t.isCreateQuestionGroup)},on:{triggerEvent:t.triggerEvent,eventSet:t.eventSet}})],1)]:t._e()],2)},a=[],u=n("8a60"),c=n.n(u),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-sm-12 col-xs-12"},[n("div",{staticClass:"panel panel-default",on:{dblclick:t.toggleEditMode}},[n("div",{staticClass:"panel-heading"},[t._v("\n        "+t._s(t._f("translate")("Group overview"))+"\n        ")]),n("ul",{staticClass:"list-group"},[n("li",{staticClass:"list-group-item"},[n("div",{staticClass:"ls-flex-row wrap col-12"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Title")))]),n("div",{staticClass:"col-12 scoped-small-border",domProps:{innerHTML:t._s(t.cleanCurrentTitle)}})])]),n("li",{directives:[{name:"show",rawName:"v-show",value:!!t.cleancurrentQuestionGroupDescription,expression:"!!cleancurrentQuestionGroupDescription"}],staticClass:"list-group-item"},[n("div",{staticClass:"ls-flex-row wrap col-12"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Description")))]),n("div",{staticClass:"col-12 scoped-small-border",domProps:{innerHTML:t._s(t.cleancurrentQuestionGroupDescription)}})])]),n("li",{staticClass:"list-group-item"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!!t.currentQuestionGroupRandomgroup,expression:"!!currentQuestionGroupRandomgroup"}],staticClass:"ls-flex-row wrap",class:1!=t.parsedRelevance&&""!=t.parsedRelevance?"col-6":"col-12"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Random Group")))]),n("div",{staticClass:"col-12 scoped-small-border"},[t._v("\n                        "+t._s(t.currentQuestionGroupRandomgroup)+"\n                    ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:1!=t.parsedRelevance&&""!=t.parsedRelevance,expression:"(parsedRelevance!=1 && parsedRelevance!='')"}],staticClass:"ls-flex-row wrap",class:t.currentQuestionGroupRandomgroup?"col-6":"col-12"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Relevance")))]),n("div",{staticClass:"col-12 scoped-small-border",domProps:{innerHTML:t._s(t.parsedRelevance)}})])])])])])},d=[],g=(n("6cd4"),n("ec69")),p=n.n(g),f=(n("9380"),n("c5a2"),n("13ea")),v=n.n(f),h=n("1a8c"),m=n.n(h),b=(n("7f7f"),{props:{event:{type:Object,default:null}},watch:{event:function(t,e){if(null!==t){if(this.$options.name==t.target&&"function"==typeof this[t.method]){try{this[t.method](t.content),this.$emit("eventSet")}catch(n){this.$log.error("Event handling errored",n)}return}this.$log.log("Event skipped to next child",t,this.name)}}},methods:{eventSet:function(){this.$emit("eventSet")}}}),G={name:"questiongroupoverview",mixin:[b],data:function(){return{currentTab:""}},computed:{cleanCurrentTitle:function(){return this.stripScripts(this.$store.state.currentQuestionGroupI10N[this.$store.state.activeLanguage].group_name)},cleancurrentQuestionGroupDescription:function(){return this.stripScripts(this.$store.state.currentQuestionGroupI10N[this.$store.state.activeLanguage].description)},currentQuestionGroupRandomgroup:function(){return this.$store.state.currentQuestionGroup.randomization_group},parsedRelevance:function(){return this.$store.state.currentQuestionGroup.grelevance}},methods:{stripScripts:function(t){var e=document.createElement("div");e.innerHTML=t;var n=e.getElementsByTagName("script"),o=n.length;while(o--){var r=n[o].innerHTML,i=document.createElement("pre");i.innerHTML="[script]\n".concat(r,"\n[/script]"),n[o].parentNode.appendChild(i),n[o].parentNode.removeChild(n[o])}return e.innerHTML},selectLanguage:function(t){this.$log.log("LANGUAGE CHANGED",t),this.$store.commit("setActiveLanguage",t)},parseForLocalizedOption:function(t){return m()(t)&&void 0!=t[this.$store.state.activeLanguage]?t[this.$store.state.activeLanguage]:t},toggleEditMode:function(){this.$emit("triggerEvent",{target:"lsnextquestiongroupeditor",method:"triggerEditQuestionGroup",content:{}})}},mounted:function(){this.toggleLoading(!1)}},_=G,Q=(n("5bf2"),n("2877")),w=Object(Q["a"])(_,l,d,!1,null,"4b1b6595",null),y=w.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-sm-12 col-xs-12"},[n("div",{staticClass:"panel panel-default",on:{dblclick:t.toggleEditMode}},[n("div",{staticClass:"panel-heading"},[t._v("\n        "+t._s(t._f("translate")("Group overview"))+"\n        ")]),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"col-xs-12 ls-space margin top-5 bottom-5"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Title")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentTitle,expression:"currentTitle"}],staticClass:"form-control",domProps:{value:t.currentTitle},on:{input:function(e){e.target.composing||(t.currentTitle=e.target.value)}}})]),n("div",{staticClass:"col-xs-12 ls-space margin top-5 bottom-5 scope-contains-ckeditor"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Description")))]),n("ckeditor",{attrs:{editor:t.editorDescription,config:t.editorDescriptionConfig},model:{value:t.currentQuestionGroupDescription,callback:function(e){t.currentQuestionGroupDescription=e},expression:"currentQuestionGroupDescription"}})],1),n("div",{staticClass:"col-sm-6 col-xs-12 ls-space margin top-5 bottom-5"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Random Group")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentQuestionGroupRandomgroup,expression:"currentQuestionGroupRandomgroup"}],staticClass:"form-control",domProps:{value:t.currentQuestionGroupRandomgroup},on:{input:function(e){e.target.composing||(t.currentQuestionGroupRandomgroup=e.target.value)}}})]),n("div",{staticClass:"col-sm-6 col-xs-12 ls-space margin top-5 bottom-5"},[n("div",{staticClass:"col-12"},[t._v(t._s(t._f("translate")("Relevance")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentRelevance,expression:"currentRelevance"}],staticClass:"form-control",domProps:{value:t.currentRelevance},on:{input:function(e){e.target.composing||(t.currentRelevance=e.target.value)}}})])])])])},C=[],E=n("fb3d"),T=n.n(E),x={name:"questiongroupeditor",mixin:[b],data:function(){return{currentTab:"",editorDescription:T.a,editorDescriptionConfig:{}}},computed:{currentTitle:{get:function(){return this.$store.state.currentQuestionGroupI10N[this.$store.state.activeLanguage].group_name},set:function(t){this.$store.commit("setCurrentQuestionGroupI10NForCurrentLanguage",{setting:"group_name",newValue:t})}},currentQuestionGroupDescription:{get:function(){return this.$store.state.currentQuestionGroupI10N[this.$store.state.activeLanguage].description},set:function(t){this.$store.commit("setCurrentQuestionGroupI10NForCurrentLanguage",{setting:"description",newValue:t})}},currentQuestionGroupRandomgroup:{get:function(){return this.$store.state.currentQuestionGroup.randomization_group},set:function(t){this.$store.commit("setCurrentQuestionGroupSetting",{setting:"randomization_group",newValue:t})}},currentRelevance:{get:function(){this.$store.state.currentQuestionGroup.grelevance},set:function(t){this.$store.commit("setCurrentQuestionGroupSetting",{setting:"grelevance",newValue:t})}}},methods:{stripScripts:function(t){var e=document.createElement("div");e.innerHTML=t;var n=e.getElementsByTagName("script"),o=n.length;while(o--){var r=n[o].innerHTML,i=document.createElement("pre");i.innerHTML="[script]\n".concat(r,"\n[/script]"),n[o].parentNode.appendChild(i),n[o].parentNode.removeChild(n[o])}return e.innerHTML},selectLanguage:function(t){this.$log.log("LANGUAGE CHANGED",t),this.$store.commit("setActiveLanguage",t)},parseForLocalizedOption:function(t){return m()(t)&&void 0!=t[this.$store.state.activeLanguage]?t[this.$store.state.activeLanguage]:t},toggleEditMode:function(){this.$emit("triggerEvent",{target:"lsnextquestiongroupeditor",method:"toggleOverview",content:{}})}},mounted:function(){this.toggleLoading(!1)}},q=x,S=(n("dd80"),Object(Q["a"])(q,L,C,!1,null,"737ac2b4",null)),N=S.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\r\n        "+t._s(t._f("translate")("Question list"))+"\r\n        ")]),n("div",{staticClass:"panel-body"},[n("table",{staticClass:"table table-striped"},[n("thead",[n("tr",t._l(t.columns,function(e){return n("th",{key:e.field+"-thead",on:{click:function(n){return t.selectForSort(e)}}},[n("b",[t._v(t._s(t._f("translate")(e.label)))]),e.insortable?t._e():n("i",{class:t.sortBy==e.field?t.sortReverse?"fa fa-sort-desc":"fa fa-sort-asc":"fa fa-sort"})])}),0)]),n("tbody",t._l(t.sortedQuestionList,function(e){return n("tr",{key:e.qid},t._l(t.columns,function(o){return n("td",{key:o.field+"-tbody",domProps:{innerHTML:t._s(t.getFieldForColumn(o,e))}})}),0)}),0)])])])])},D=[],R=n("c707"),A=n.n(R),O=n("5128"),I=n.n(O),M={name:"questionlist",mixin:[b],data:function(){return{sortBy:"question_order",sortReverse:!1}},computed:{columns:function(){var t=this;return[{label:"Order",field:"question_order"},{label:"Question code",field:"title"},{label:"Question",field:"question",useFunction:function(e){return t.getQuestionI10N(e)}},{label:"QuestionType",field:"type"},{label:"Mandatory",field:"mandatory"},{label:"Encrpted",field:"encrypted"},{label:"Actions",field:"actions",useFunction:function(e){return t.getQuestionActions(e)},insortable:!0}]},sortedQuestionList:function(){var t=this,e=A()(this.$store.state.questionList,function(e){return e[t.sortBy]});return this.sortReverse&&I()(e),e}},methods:{getQuestionI10N:function(t){return void 0!==t[this.$store.state.activeLanguage]?t[this.$store.state.activeLanguage].question:"---"},getFieldForColumn:function(t,e){return void 0!=t.useFunction?t.useFunction(e):"<div> ".concat(e[t.field]||"--"," </div>")},selectForSort:function(t){this.sortBy!=t.field?(this.sortBy=t.field,this.sortReverse=!1):this.sortReverse=!this.sortReverse},getQuestionActions:function(t){return'<a href="'.concat(window.QuestionGroupEditData.openQuestionUrl,"/").concat(t.qid,'" class="btn btn-default btn-xs">\n                <i class="fa fa-external-link"> </i>\n            </a>')}}},j=M,P=Object(Q["a"])(j,k,D,!1,null,"5001c477",null),F=P.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"button-toolbar",attrs:{id:t.elId+"-language-selector"}},[n("div",{staticClass:"btn-group"},[t._l(t.getInChunks[0],function(e,o){return n("button",{key:o+"-button",class:"btn btn-"+(o==t.currentLanguage?"primary active":"default"),on:{click:function(e){return e.preventDefault(),t.setCurrentLanguage(o)}}},[t._v("\n                "+t._s(e)+"\n            ")])}),t.getInChunks.length>1?n("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._v("\n                "+t._s(t._f("translate")("More Languages"))+"\n                "),n("span",{staticClass:"caret"})]):t._e(),n("ul",{staticClass:"dropdown-menu"},t._l(t.getInChunks[1],function(e,o){return n("li",{key:o+"-dropdown",on:{click:function(e){return e.preventDefault(),t.setCurrentLanguage(o)}}},[n("a",{attrs:{href:"#"}},[t._v(t._s(e))])])}),0)],2)]),n("hr")])},B=[],U=n("d623"),V=n.n(U),J=n("2593"),z=n.n(J),Y=n("2acb"),K=n.n(Y),W={name:"language-selector",props:{elId:{type:String,required:!0},aLanguages:{type:[Array,Object],required:!0},parentCurrentLanguage:{type:String,required:!0}},computed:{currentLanguage:{get:function(){return this.parentCurrentLanguage},set:function(t){this.$emit("change",t)}},getInChunks:function(){if(V()(this.aLanguages)<=5)return[this.aLanguages];var t=z()(this.aLanguages,K()(p()(this.aLanguages),0,4)),e=z()(this.aLanguages,K()(p()(this.aLanguages),5));return[t,e]}},methods:{setCurrentLanguage:function(t){this.$emit("change",t)}}},X=W,Z=(n("ff13"),Object(Q["a"])(X,H,B,!1,null,"4ae67f8e",null)),tt=Z.exports,et=n("795b"),nt=n.n(et),ot={methods:{__runAjax:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",r={};r[LS.data.csrfTokenName]=LS.data.csrfToken;var i=$.merge(e,r);return new nt.a(function(e,r){void 0==$&&r("JQUERY NOT AVAILABLE!"),$.ajax({url:t,method:n||"get",data:i,dataType:o,success:function(t,n,o){e({success:!0,data:t,transferStatus:n,xhr:o})},error:function(t,e,n){r({success:!1,error:n,transferStatus:e,xhr:t})}})})},$_post:function(t,e){return this.__runAjax(t,e,"post")},$_get:function(t,e){return this.__runAjax(t,e,"get")},$_load:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return this.__runAjax(t,e,n,"html")},$_delete:function(t,e){return this.__runAjax(t,e,"delete")},$_put:function(t,e){return this.__runAjax(t,e,"put")}}},rt={data:function(){return{event:{type:Object,default:null}}},watch:{event:function(t,e){if(null!==t){if(this.$options.name==t.target&&"function"==typeof this[t.method]){try{this[t.method](t.content),this.$emit("eventSet")}catch(n){this.$log.error("Event handling errored",n)}return}this.$log.log("Event skipped to next child",t,this.name)}}},methods:{eventSet:function(){this.$emit("eventSet")}}},it={name:"lsnextquestiongroupeditor",mixins:[ot,rt],components:{QuestionGroupOverview:y,QuestionGroupEditor:N,QuestionList:F,languageselector:tt},data:function(){return{editQuestionGroup:!1,questionEditButton:window.questionEditButton}},computed:{isCreateQuestionGroup:function(){return null==this.$store.state.currentQuestionGroup.gid},allowSwitchEditing:function(){return!this.isCreateQuestionGroup&&this.$store.state.permissions.update}},methods:{triggerEditQuestionGroup:function(){this.toggleLoading(!0),this.editQuestionGroup?($("#questiongroupbar--savebuttons").fadeOut(),$("#questiongroupbar--questiongroupbuttons").fadeIn()):($("#questiongroupbar--savebuttons").fadeIn(),$("#questiongroupbar--questiongroupbuttons").fadeOut()),this.editQuestionGroup=!this.editQuestionGroup},applyHotkeys:function(){var t=this;c.a.bind("ctrl+right",this.chooseNextLanguage),c.a.bind("ctrl+left",this.choosePreviousLanguage),c.a.bind("ctrl+shift+s",this.submitCurrentState),c.a.bind("ctrl+alt+d",function(){t.$store.commit("toggleDebugMode")})},chooseNextLanguage:function(){this.$log.log("HOTKEY","chooseNextLanguage"),this.$store.commit("nextLanguage")},choosePreviousLanguage:function(){this.$log.log("HOTKEY","choosePreviousLanguage"),this.$store.commit("previousLanguage")},jqueryTriggered:function(t,e){this.event=JSON.parse(e.emitter)},setModalEvent:function(t){this.$log.log("New event set",t),this.event=t},triggerEvent:function(t){this.$log.log("New event set",t),this.event=t},eventSet:function(){this.event=null},submitCurrentState:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.toggleLoading(),this.$store.dispatch("saveQuestionGroupData").then(function(n){t.toggleLoading(),1==e&&(window.location.href=n.data.redirect),$("#in_survey_common").trigger("lsStopLoading"),window.LS.notifyFader(n.data.message,"well-lg bg-primary text-center"),t.$log.log("OBJECT AFTER TRANSFER: ",n)},function(e){t.toggleLoading(),$("#in_survey_common").trigger("lsStopLoading"),window.LS.notifyFader("Question could not be stored. Reloading page.","well-lg bg-danger text-center")})},selectLanguage:function(t){this.$log.log("LANGUAGE CHANGED",t),this.$store.commit("setActiveLanguage",t)}},created:function(){var t=this;this.$store.dispatch("loadQuestionGroup").then(function(e){$("#questiongroupbarid").css({display:""}),null==t.$store.state.currentQuestionGroup.gid?($("#save-button").css({display:"none"}),$("#questiongroupbar--savebuttons").css({display:""}),$("#questiongroupbar--questiongroupbuttons").css({display:"none"}),t.editQuestionGroup=!0):($("#questiongroupbar--savebuttons").css({display:"none"}),$("#questiongroupbar--questiongroupbuttons").css({display:""})),t.toggleLoading(!1)},function(e){t.$log.error("Question group loading failed")}),this.$store.dispatch("getQuestionsForGroup")},mounted:function(){var t=this;$("#advancedQuestionEditor").on("jquery:trigger",this.jqueryTriggered),this.applyHotkeys(),$("#frmeditgroup").on("submit",function(t){t.preventDefault()}),$("#save-button").on("click",function(e){t.submitCurrentState(null==t.$store.state.currentQuestionGroup.gid)}),$("#save-and-close-button").on("click",function(e){t.submitCurrentState(!0)})}},st=it,at=(n("5974"),Object(Q["a"])(st,s,a,!1,null,"442b9c83",null)),ut=at.exports,ct=n("2f62"),lt=n("bfa9"),dt=n("ead5"),gt=n.n(dt),pt=n("77c1"),ft=n.n(pt),vt=n("42454"),ht=n.n(vt),mt=n("ba84"),bt=n.n(mt),Gt={setCurrentQuestionGroup:function(t,e){t.currentQuestionGroup=e},setCurrentQuestionGroupI10N:function(t,e){t.currentQuestionGroupI10N=e},setQuestionList:function(t,e){t.questionList=ft()(e,function(t,e){return"debug"!==e})},setPermissions:function(t,e){t.permissions=e},updateCurrentQuestionGroup:function(t,e){t.currentQuestionGroup=ht()({},t.currentQuestionGroup,e)},setCurrentQuestionGroupI10NForCurrentLanguage:function(t,e){o["a"].set(t.currentQuestionGroupI10N[t.activeLanguage],e.setting,e.newValue)},setCurrentQuestionGroupSetting:function(t,e){o["a"].set(t.setCurrentQuestionGroup,e.settingName,e.newValue)},setActiveLanguage:function(t,e){t.activeLanguage=e},setLanguages:function(t,e){t.languages=e},nextLanguage:function(t){var e=p()(t.languages),n=bt()(e,t.activeLanguage);n<e.length&&(t.activeLanguage=e[n+1])},previousLanguage:function(t){var e=p()(t.languages),n=bt()(e,t.activeLanguage);n>0&&(t.activeLanguage=e[n-1])},setSurvey:function(t,e){t.survey=e},setQuestionTypeList:function(t,e){t.questionTypes=e},toggleDebugMode:function(t){t.debugMode=!t.debugMode},setInTransfer:function(t,e){t.inTransfer=e}},_t=(n("14b9"),n("774e")),Qt=n.n(_t),wt=n("75fc"),yt=n("d225"),Lt=n("b0b4"),Ct=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(yt["a"])(this,t),this.param=e,this.silencer=n,this.collector=[],this.currentGroupDescription="",this.activeGroups=0,this.timeHolder=null,this.methods=["group","groupEnd","log","trace","time","timeEnd","error","warn"],this.silent={group:function(){},groupEnd:function(){},log:function(){},trace:function(){},time:function(){},timeEnd:function(){},error:function(){},err:function(){},debug:function(){},warn:function(){}}}return Object(Lt["a"])(t,[{key:"_generateError",value:function(){try{throw new Error}catch(t){return t}}},{key:"_insertParamToArguments",value:function(t){if(""!==this.param){var e=Object(wt["a"])(t);return e.unshift(this.param),e}return Qt()(arguments)}},{key:"setSilent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.silencer=t||!this.silencer}},{key:"group",value:function(){if(!this.silencer){var t=this._insertParamToArguments(arguments);if("function"!==typeof console.group){var e=t[0]||"GROUP";this.currentGroupDescription=e,this.activeGroups++}else console.group.apply(console,t)}}},{key:"groupEnd",value:function(){if(!this.silencer){var t=this._insertParamToArguments(arguments);"function"!==typeof console.groupEnd?(this.currentGroupDescription="",this.activeGroups--,this.activeGroups=0===this.activeGroups?0:this.activeGroups--):console.groupEnd.apply(console,t)}}},{key:"log",value:function(){if(!this.silencer){var t=this._insertParamToArguments(arguments);"function"!==typeof console.group?(t.shift(),t.unshift(" ".repeat(2*this.activeGroups)),this.log.apply(this,t)):console.log.apply(console,t)}}},{key:"trace",value:function(){if(!this.silencer){var t=this._insertParamToArguments(arguments);if("function"!==typeof console.trace){var e=this._generateError();e.stack?this.log.apply(console,e.stack):(this.log(t),void 0!=arguments.callee&&this.trace.apply(console,arguments.callee))}else console.trace.apply(console,t)}}},{key:"time",value:function(){if(!this.silencer){var t=this._insertParamToArguments(arguments);"function"!==typeof console.time?this.timeHolder=new Date:console.time.apply(console,t)}}},{key:"timeEnd",value:function(){if(!this.silencer){var t=this._insertParamToArguments(arguments);if("function"!==typeof console.timeEnd){var e=new Date-this.timeHolder;this.log("Took ".concat(Math.floor(e/36e5)," hours, ").concat(Math.floor(e/6e4)," minutes and ").concat(Math.floor(e/1e3)," seconds ( ").concat(e," ms)")),this.time=new Date}else console.timeEnd.apply(console,t)}}},{key:"error",value:function(){var t=this._insertParamToArguments(arguments);"function"!==typeof console.error?(this.log("--- ERROR ---"),this.log(t)):console.error.apply(console,t)}},{key:"warn",value:function(){var t=this._insertParamToArguments(arguments);"function"!==typeof console.warn?(this.log("--- WARN ---"),this.log(t)):console.warn.apply(console,t)}}]),t}(),$t=Ct,Et=new $t("QUESTIONEDIT"),Tt=function(t){window.debugState.backend?t.prototype.$log=Et:t.prototype.$log=console.ls.silent},xt={loadQuestionGroup:function(t){return new nt.a(function(e,n){t.commit("setCurrentQuestionGroup",{}),ot.methods.$_get(window.QuestionGroupEditData.connectorBaseUrl+"/loadQuestionGroup",{iQuestionGroupId:window.QuestionGroupEditData.gid}).then(function(n){t.commit("setLanguages",n.data.languages),t.commit("setActiveLanguage",p()(n.data.languages)[0]),t.commit("setPermissions",n.data.permissions),t.commit("setCurrentQuestionGroup",n.data.questionGroup),t.commit("setCurrentQuestionGroupI10N",n.data.questonGroupI10N),t.commit("setInTransfer",!1),e(!0)},function(t){n(t)})})},getQuestionsForGroup:function(t){return new nt.a(function(e,n){ot.methods.$_get(window.QuestionGroupEditData.connectorBaseUrl+"/getQuestionsForGroup",{iQuestionGroupId:window.QuestionGroupEditData.gid}).then(function(n){t.commit("setQuestionList",n.data),e(!0)},function(t){n(t)})})},saveQuestionGroupData:function(t){return!t.state.inTransfer&&(t.commit("setInTransfer",!0),new nt.a(function(e,n){var o=ht()({questionGroup:t.state.currentQuestionGroup,questionGroupI10N:t.state.currentQuestionGroupI10N},window.LS.data.csrfTokenData);Et.log("OBJECT TO BE TRANSFERRED: ",{questionData:o}),ot.methods.$_post(window.QuestionGroupEditData.connectorBaseUrl+"/saveQuestionGroupData",o).then(function(n){t.commit("setInTransfer",!1),e(n)},n)}))}},qt={fullyLoaded:function(t){return!v()(t.currentQuestionGroup)}},St={currentQuestionGroup:{},currentQuestionGroupI10N:{},questionList:{},permissions:{},languages:[],survey:{},debugMode:!1,activeLanguage:"",inTransfer:!1};o["a"].use(gt.a),o["a"].use(ct["a"]);var Nt=function(t){var e=new lt["a"]({key:"lsquestiongroupedit_"+t,storage:window.localStorage});return new ct["a"].Store({state:St,plugins:[e.plugin],mutations:Gt,actions:xt,getters:qt})};o["a"].config.ignoredElements=["x-test"],o["a"].use(Tt),o["a"].use(i.a),o["a"].mixin({methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===t?"none"!=$("#questionGroupEditLoader").css("display")?$("#questionGroupEditLoader").fadeOut(400):$("#questionGroupEditLoader").fadeIn(200):t?$("#questionGroupEditLoader").fadeIn(200):$("#questionGroupEditLoader").fadeOut(400)},translate:function(t){return window.QuestionGroupEditData.i10N[t]||t}},filters:{translate:function(t){return window.QuestionGroupEditData.i10N[t]||t}}});var kt=Nt(window.QuestionGroupEditData.qid);new o["a"]({el:"#advancedQuestionGroupEditor",store:kt,components:{lsnextquestiongroupeditor:ut}})},"5bf2":function(t,e,n){"use strict";var o=n("f63f"),r=n.n(o);r.a},"911b":function(t,e,n){},dd80:function(t,e,n){"use strict";var o=n("911b"),r=n.n(o);r.a},f63f:function(t,e,n){},fe5e:function(t,e,n){},ff13:function(t,e,n){"use strict";var o=n("5254"),r=n.n(o);r.a}});
//# sourceMappingURL=questiongroupedit.js.map