(function(t){function e(e){for(var s,o,r=e[0],u=e[1],l=e[2],c=0,p=[];c<r.length;c++)o=r[c],i[o]&&p.push(i[o][0]),i[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={main:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){n("a3f7"),n("48f8"),t.exports=n("2a5c")},"1e6f":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.popupTitle))])]),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label",attrs:{for:"paramname"}},[t._v(t._s(t.translate.popup.paramName))]),n("div",{},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterRow.parameter,expression:"parameterRow.parameter"}],staticClass:"form-control",attrs:{name:"paramname",type:"text",size:"20"},domProps:{value:t.parameterRow.parameter},on:{input:function(e){e.target.composing||t.$set(t.parameterRow,"parameter",e.target.value)}}})])]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label ",attrs:{for:"targetquestion"}},[t._v(t._s(t.translate.popup.targetQuestion))]),n("div",{},[n("select",{staticClass:"form-control",attrs:{name:"targetquestion",size:"1"},on:{change:function(e){return t.updateValues(e)}}},[n("option",{attrs:{value:""}},[t._v(t._s(t.translate.popup.noTargetQuestion))]),t._l(t.questions,function(e,s){return n("option",{key:e.qid,domProps:{value:s,selected:e.qid==t.parameterRow.qid}},[t._v("\n                            "+t._s(t.printQuestion(e))+" \n                        ")])})],2)])]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterRow.qid,expression:"parameterRow.qid"}],attrs:{type:"hidden"},domProps:{value:t.parameterRow.qid},on:{input:function(e){e.target.composing||t.$set(t.parameterRow,"qid",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterRow.sqid,expression:"parameterRow.sqid"}],attrs:{type:"hidden"},domProps:{value:t.parameterRow.sqid},on:{input:function(e){e.target.composing||t.$set(t.parameterRow,"sqid",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-sm-12 text-center"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.isValid,expression:"isValid"}],staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.saveChangedParameter()}}},[n("span",{staticClass:"fa fa-floppy-o"}),t._v("\n                        "+t._s(t.translate.popup.save)+"\n                    ")]),n("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.cancelEditParameter()}}},[t._v(t._s(t.translate.popup.cancel))])])])])])])},i=[],a=(n("7514"),{name:"lspanel-parameter-popup",components:{},mixins:{},props:{translate:{type:Object},parameterRow:{type:Object},questions:{type:Array},isNew:{type:Boolean}},data:function(){return{currentQuestion:this.selectedQuestion}},computed:{selectedQuestion:function(){var t=this;return LS.ld.find(this.questions,function(e,n){return t.parameterRow.qid==e.qid&&(null==e.sqid||e.sqid==t.parameterRow.sqid)})},popupTitle:function(){return this.isNew?this.translate.popup.newParam:this.translate.popup.editParam},isValid:function(){return!(""==this.parameterRow.parameter||!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(this.parameterRow.parameter)||"sid"==this.parameterRow.parameter||"newtest"==this.parameterRow.parameter||"token"==this.parameterRow.parameter||"lang"==this.parameterRow.parameter)}},methods:{_ellipsize:function(t,e,n,s){t=t||"",n=n||1,s=s||"...";var i=t,a=i.length;if(a>e){var o=i.substring(0,Math.floor(e*n)),r=i.substring(a-(e-o.length),a);return o+s+r}return t},printQuestion:function(t){var e=this._ellipsize(t.question,43,.75),n=" - ".concat(this._ellipsize(t.sqquestion,30,.75)),s="".concat(t.title,": ").concat(e).concat(n.length>3?n:"");return s},saveChangedParameter:function(){this.$emit("updateparam",{paramRow:this.parameterRow,isNew:this.isNew})},cancelEditParameter:function(){this.$emit("canceledit")},updateValues:function(t){this.currentQuestion=this.questions[t.target.value],this.parameterRow.qid=this.currentQuestion.qid,this.parameterRow.sqid=this.currentQuestion.sqid||"",this.parameterRow.targetQuestionText=this.printQuestion(this.currentQuestion)}},created:function(){},mounted:function(){}}),o=a,r=n("2877"),u=Object(r["a"])(o,s,i,!1,null,null,null);e["a"]=u.exports},"2a5c":function(t,e,n){},"2eab":function(t,e,n){},"479a":function(t,e,n){"use strict";(function(t){n("6b54"),n("20d6"),n("ac6a");var s=n("f499"),i=n.n(s),a=(n("c5f6"),n("1e6f"));e["a"]={name:"lspanelparametertable",components:{parameterpopup:a["a"]},mixins:{},props:{translate:{type:Object},jsonUrl:{type:String},sid:{type:Number}},data:function(){return{showAllColumns:!1,parameterRows:[],currentParameter:{},modalShown:!1,isNew:!1,toDeleteRow:null}},computed:{combinedValues:function(){return i()(this.parameterRows)},questions:function(){return t.questionArray||[]}},methods:{getParameterRows:function(){var t=this;$.ajax({url:this.jsonUrl,dataType:"json",method:"GET",success:function(e){var n=[];LS.ld.forEach(e.rows,function(t,e){var s={id:t.id,parameter:t.parameter,targetQuestionText:t.questionTitle,targetSubQuestionText:t.subquestionTitle,sid:t.sid,qid:t.targetqid||"",sqid:t.targetsqid||""};n.push(s)}),t.parameterRows=n}})},paramUpdated:function(t){if(!1===t.isNew){var e=LS.ld.findIndex(this.parameterRows,function(e){return e.id===t.paramRow.id});-1!=e&&(this.parameterRows[e]=t.paramRow)}else this.parameterRows.push(t.paramRow);this.toggleModal()},editRow:function(t){this.isNew=!1,this.currentParameter=t,this.toggleModal()},addNewParam:function(t){this.isNew=!0,this.currentParameter={id:this._guidGenerator(),parameter:"",targetQuestionText:"",sid:this.sid,qid:"",sqid:""},this.toggleModal()},deleteRow:function(t){this.toDeleteRow=t,$("#lspanelintegration-deletePopup").modal("toggle")},cancelDelete:function(){this.toDeleteRow=null},confirmDelete:function(){var t=this;if(null!==this.toDeleteRow){var e=LS.ld.findIndex(this.parameterRows,function(e){return e.id===t.toDeleteRow.id});-1!=e&&this.parameterRows.splice(e,1)}$("#lspanelintegration-deletePopup").modal("toggle")},toggleModal:function(){this.modalShown=!this.modalShown,$("#lspanelintegration-parameterPopup").modal("toggle")},_guidGenerator:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},created:function(){},mounted:function(){this.getParameterRows()}}}).call(this,n("c8ba"))},"48f8":function(t,e,n){"use strict";n.r(e);var s=n("e814"),i=n.n(s),a=(n("7514"),n("cadf"),n("551c"),n("f751"),n("097d"),n("a026")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ls-flex ls-ba ls-space padding left-0 col-md-4 hidden-xs nofloat transition-animate-width",style:{"max-height":t.$store.state.inSurveyViewHeight},attrs:{id:"sidebar"},on:{mouseleave:t.mouseleave,mouseup:t.mouseup}},[t.showLoader?n("div",{staticClass:"sidebar_loader",style:{width:t.getSideBarWidth,height:t.getloaderHeight}},[t._m(0)]):t._e(),n("div",{staticClass:"col-12 fill-height ls-space padding all-0",staticStyle:{height:"100%"}},[n("div",{staticClass:"mainMenu container-fluid col-12 ls-space padding right-0 fill-height"},[n("div",{staticClass:"ls-space margin bottom-15 top-5 col-12",staticStyle:{height:"40px"}},[n("div",{staticClass:"ls-flex-row align-content-space-between align-items-flex-end ls-space padding left-0 right-10 bottom-0 top-0"},[n("transition",{attrs:{name:"fade"}},[t.$store.state.isCollapsed?t._e():n("button",{staticClass:"btn btn-default ls-space padding left-15 right-15",on:{click:t.toggleCollapse}},[n("i",{staticClass:"fa fa-chevron-left"})])]),n("transition",{attrs:{name:"fade"}},[t.$store.state.isCollapsed?t._e():n("div",{staticClass:"ls-flex-item grow-10 col-12"},[n("div",{staticClass:"btn-group btn-group col-12"},[n("button",{staticClass:"btn col-6 force color white onhover tabbutton",class:t.activeTab("settings")?"btn-primary":"btn-default",attrs:{id:"adminpanel__sidebar--selectorSettingsButton"},on:{click:function(e){return t.changeTab("settings")}}},[t._v(t._s(t.translate.settings))]),n("button",{staticClass:"btn col-6 force color white onhover tabbutton",class:t.activeTab("questiontree")?"btn-primary":"btn-default",attrs:{id:"adminpanel__sidebar--selectorStructureButton"},on:{click:function(e){return t.changeTab("questiontree")}}},[t._v(t._s(t.translate.structure))])])])]),n("transition",{attrs:{name:"fade"}},[t.$store.state.isCollapsed?n("button",{staticClass:"btn btn-default ls-space padding left-15 right-15",on:{click:t.toggleCollapse}},[n("i",{staticClass:"fa fa-chevron-right"})]):t._e()])],1)]),n("transition",{attrs:{name:"slide-fade"}},[n("sidemenu",{directives:[{name:"show",rawName:"v-show",value:t.showSideMenu,expression:"showSideMenu"}],style:{"min-height":t.calculateSideBarMenuHeight}})],1),n("transition",{attrs:{name:"slide-fade"}},[n("questionexplorer",{directives:[{name:"show",rawName:"v-show",value:t.showQuestionTree,expression:"showQuestionTree"}],style:{"min-height":t.calculateSideBarMenuHeight},attrs:{"create-question-group-link":t.createQuestionGroupLink,"create-question-link":t.createQuestionLink,translate:t.translate},on:{openentity:t.openEntity,questiongrouporder:t.changedQuestionGroupOrder}})],1),n("transition",{attrs:{name:"slide-fade"}},[n("quickmenu",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isCollapsed,expression:"$store.state.isCollapsed"}],style:{"min-height":t.calculateSideBarMenuHeight}})],1)],1)]),n("div",{staticClass:"resize-handle ls-flex-column",style:{height:t.calculateSideBarMenuHeight,"max-height":t.getWindowHeight}},[n("button",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.isCollapsed,expression:"!$store.state.isCollapsed"}],staticClass:"btn btn-default",on:{mousedown:t.mousedown,click:function(t){return t.preventDefault(),function(){return!1}()}}},[n("i",{staticClass:"fa fa-ellipsis-v"})])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ls-flex ls-flex-column fill align-content-center align-items-center"},[n("i",{staticClass:"fa fa-circle-o-notch fa-2x fa-spin"})])}],u=(n("3b2b"),n("b54a"),n("aef6"),n("ac6a"),n("c5f6"),n("2ef0"),n("795b")),l=n.n(u),d={methods:{_runAjax:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return new l.a(function(s,i){void 0==$&&i("JQUERY NOT AVAILABLE!"),$.ajax({url:t,method:n||"get",data:e,dataType:"json",success:function(t,e,n){s({success:!0,data:t,transferStatus:e,xhr:n})},error:function(t,e,n){i({success:!1,error:n,transferStatus:e,xhr:t})}})})},post:function(t,e){return this._runAjax(t,e,"post")},get:function(t,e){return this._runAjax(t,e,"get")},delete:function(t,e){return this._runAjax(t,e,"delete")},put:function(t,e){return this._runAjax(t,e,"put")}}},c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ls-flex-column fill ls-ba menu-pane ls-space padding all-0 margin top-5",attrs:{id:"questionexplorer"}},[""!=t.createAllowance?n("div",{staticClass:"ls-flex-row wrap align-content-space-between align-items-space-between ls-space margin top-5 bottom-15 button-sub-bar"},[void 0!=t.createQuestionGroupLink&&t.createQuestionGroupLink.length>1?n("a",{staticClass:"btn btn-small btn-primary pjax",attrs:{id:"adminpanel__sidebar--selectorCreateQuestionGroup",href:t.createQuestionGroupLink}},[n("i",{staticClass:"fa fa-plus"}),t._v(" \n            "+t._s(t.translate.createQuestionGroup)+"\n        ")]):t._e(),t.createQuestionAllowed?n("a",{staticClass:"btn btn-small btn-default ls-space margin right-10 pjax",attrs:{id:"adminpanel__sidebar--selectorCreateQuestion",href:t.createQuestionLink}},[n("i",{staticClass:"fa fa-plus-circle"}),t._v(" \n            "+t._s(t.translate.createQuestion)+"\n        ")]):t._e()]):t._e(),n("div",{staticClass:"ls-flex-row ls-space padding all-0"},[n("ul",{staticClass:"list-group col-12",on:{drop:function(e){return t.dropQuestionGroup(e,t.questiongroup)}}},t._l(t.orderedQuestionGroups,function(e){return n("li",{key:e.gid,staticClass:"list-group-item ls-flex-column",class:t.questionGroupItemClasses(e),on:{dragenter:function(n){return t.dragoverQuestiongroup(n,e)}}},[n("div",{staticClass:"col-12 ls-flex-row nowrap ls-space padding right-5 bottom-5"},[t.$store.state.surveyActiveState?t._e():n("i",{staticClass:"fa fa-bars bigIcons dragPointer",attrs:{draggable:"true"},on:{dragend:function(n){return t.endDraggingGroup(n,e)},dragstart:function(n){return t.startDraggingGroup(n,e)},click:function(t){return t.stopPropagation(),t.preventDefault(),function(){return!1}()}}},[t._v("\n                         \n                    ")]),n("a",{staticClass:"col-12 pjax",attrs:{href:e.link},on:{click:function(n){return n.stopPropagation(),t.openQuestionGroup(e)}}},[n("span",{staticClass:"question_text_ellipsize pull-left",style:{"max-width":t.itemWidth}},[t._v("\n                            "+t._s(e.group_name)+" \n                        ")]),n("span",{staticClass:"badge pull-right ls-space margin right-5"},[t._v(t._s(e.questions.length))])]),n("i",{staticClass:"fa bigIcons",class:t.isActive(e.gid)?"fa-caret-up":"fa-caret-down",on:{click:function(n){return n.preventDefault(),t.toggleActivation(e.gid)}}},[t._v(" ")])]),n("transition",{attrs:{name:"slide-fade-down"}},[t.isActive(e.gid)?n("ul",{staticClass:"list-group background-muted padding-left question-question-list",on:{drop:function(e){return t.dropQuestion(e,t.question)}}},t._l(t.orderQuestions(e.questions),function(s){return n("div",{key:s.qid,staticClass:"list-group-item question-question-list-item ls-flex-row align-itmes-flex-start",class:t.questionItemClasses(s),attrs:{"data-toggle":"tootltip",title:s.question_flat},on:{dragenter:function(n){return t.dragoverQuestion(n,s,e)}}},[t.$store.state.surveyActiveState?t._e():n("i",{staticClass:"fa fa-bars margin-right bigIcons dragPointer question-question-list-item-drag",attrs:{draggable:"true"},on:{dragend:function(e){return t.endDraggingQuestion(e,s)},dragstart:function(n){return t.startDraggingQuestion(n,s,e)},click:function(t){return t.stopPropagation(),t.preventDefault(),function(){return!1}()}}},[t._v("\n                                     \n                                ")]),n("a",{staticClass:"col-9 pjax question-question-list-item-link display-as-container",attrs:{href:s.link},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openQuestion(s)}}},[n("span",{staticClass:"question_text_ellipsize",style:{width:t.itemWidth}},[t._v("\n                                    ["+t._s(s.title)+"] › "+t._s(s.question_flat)+" \n                                ")])])])}),0):t._e()])],1)}),0)])])},p=[],m={mixins:[d],props:{createQuestionGroupLink:{type:String},createQuestionLink:{type:String},translate:{type:Object}},data:function(){return{active:[],questiongroupDragging:!1,draggedQuestionGroup:null,questionDragging:!1,draggedQuestion:null,draggedQuestionsGroup:null}},computed:{calculatedHeight:function(){var t=this.$store.state.maxHeight;return t-100},orderedQuestionGroups:function(){return LS.ld.orderBy(this.$store.state.questiongroups,function(t){return i()(t.group_order||999999)},["asc"])},createQuestionAllowed:function(){return this.$store.state.questiongroups.length>0&&void 0!=this.createQuestionLink&&this.createQuestionLink.length>1},createAllowance:function(){var t=void 0!=this.createQuestionGroupLink&&this.createQuestionGroupLink.length>1?"g":"",e=this.createQuestionAllowed?"q":"";return t+e},itemWidth:function(){return i()(this.$store.state.sidebarwidth)-95+"px"}},methods:{questionItemClasses:function(t){var e="";return e+=this.$store.state.lastQuestionOpen===t.qid?"selected":" ",null!==this.draggedQuestion&&(e+=this.draggedQuestion.qid===t.qid?" dragged":" "),e},questionGroupItemClasses:function(t){var e="";return e+=this.isActive(t.gid)?"selected":" ",null!==this.draggedQuestionGroup&&(e+=this.draggedQuestionGroup.gid===t.gid?" dragged":" "),e},orderQuestions:function(t){return LS.ld.orderBy(t,function(t){return i()(t.question_order||999999)},["asc"])},isActive:function(t){var e=-1!=LS.ld.indexOf(this.active,t);return!0!==this.questiongroupDragging&&e},toggleActivation:function(t){if(this.isActive(t))LS.ld.remove(this.active,function(e){return e===t});else this.active.push(t);this.$forceUpdate(),this.$store.commit("questionGroupOpenArray",this.active),this.updatePjaxLinks()},addActive:function(t){this.isActive(t)||this.active.push(t),this.$store.commit("questionGroupOpenArray",this.active)},openQuestionGroup:function(t){this.addActive(t.gid),this.$store.commit("lastQuestionGroupOpen",t),this.$forceUpdate(),this.updatePjaxLinks()},openQuestion:function(t){this.addActive(t.gid),this.$store.commit("lastQuestionOpen",t),this.$forceUpdate(),$(document).trigger("pjax:load",{url:t.link})},startDraggingGroup:function(t,e){this.draggedQuestionGroup=e,this.questiongroupDragging=!0,t.dataTransfer.setData("text/plain","node")},endDraggingGroup:function(t,e){null!==this.draggedQuestionGroup&&(this.draggedQuestionGroup=null,this.questiongroupDragging=!1,this.$emit("questiongrouporder"))},dragoverQuestiongroup:function(t,e){var n=this;if(void 0!=this.draggedQuestion&&null!=this.draggedQuestion||this.$log.log({this:this,questiongroupObject:e,draggedQuestion:this.draggedQuestion}),this.questiongroupDragging){var s=i()(e.group_order),a=i()(this.draggedQuestionGroup.group_order);1==Math.abs(i()(s)-i()(a))&&(e.group_order=a,this.draggedQuestionGroup.group_order=s)}else if(this.addActive(e.gid),this.draggedQuestion.gid!==e.gid){var o=LS.ld.remove(this.draggedQuestionsGroup.questions,function(t,e){return t.qid===n.draggedQuestion.qid});o.length>0&&(this.draggedQuestion.question_order=null,e.questions.push(this.draggedQuestion),this.draggedQuestion.gid=e.gid,e.group_order>this.draggedQuestionsGroup.group_order?(this.draggedQuestion.question_order=0,LS.ld.each(e.questions,function(t,e){t.question_order=i()(t.question_order)+1})):this.draggedQuestion.question_order=this.draggedQuestionsGroup.questions.length+1,this.draggedQuestionsGroup=e)}},startDraggingQuestion:function(t,e,n){this.$log.log("Dragging started",e),t.dataTransfer.setData("application/node",this),this.questionDragging=!0,this.draggedQuestion=e,this.draggedQuestionsGroup=n},endDraggingQuestion:function(t,e){this.questionDragging&&(this.questionDragging=!1,this.draggedQuestion=null,this.draggedQuestionsGroup=null,this.$emit("questiongrouporder"))},dragoverQuestion:function(t,e,n){if(this.questionDragging){var s=e.question_order;e.question_order=this.draggedQuestion.question_order,this.draggedQuestion.question_order=s}}},mounted:function(){var t=this;this.active=this.$store.state.questionGroupOpenArray,this.updatePjaxLinks(),$(document).on("vue-reload-remote",function(){t.$forceUpdate()})}},h=m,g=(n("8c57"),n("2877")),f=Object(g["a"])(h,c,p,!1,null,null,null),v=f.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ls-flex-column fill menu-pane overflow-enabled ls-space padding all-0 margin top-5"},t._l(t.sortedMenues,function(e){return n("div",{key:e.id,staticClass:"ls-flex-row wrap ls-space padding all-0",attrs:{title:e.title,id:e.id}},[n("label",{staticClass:"menu-label"},[t._v(t._s(e.title))]),n("submenu",{attrs:{menu:e}})],1)}),0)},b=[],_=n("f499"),y=n.n(_),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"fontawesome"==t.iconType?n("i",{staticClass:"fa",class:"fa-"+t.icon},[t._v(" ")]):"image"==t.iconType?n("img",{attrs:{width:"32px",src:t.icon}}):"iconclass"==t.iconType?n("i",{class:t.icon},[t._v(" ")]):n("span")},C=[],q={props:{icon:{type:String},iconType:{type:String}}},S=q,Q=Object(g["a"])(S,x,C,!1,null,null,null),k=Q.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-group subpanel col-12",class:"level-"+t.menu.level},[t._l(t.sortedMenuEntries,function(e){return n("a",{key:e.id,staticClass:"list-group-item",class:t.getLinkClass(e),attrs:{href:e.link,target:1==e.link_external?"_blank":"",id:"sidemenu_"+e.name},on:{click:function(n){return n.stopPropagation(),t.setActiveMenuItemIndex(e)}}},[n("div",{staticClass:"col-12",class:e.menu_class,attrs:{title:t.reConvertHTML(e.menu_description),"data-toggle":"tooltip"}},[n("div",{staticClass:"ls-space padding all-0",class:t.$store.state.lastMenuItemOpen==e.id?"col-sm-10":"col-sm-12"},[n("menuicon",{attrs:{"icon-type":e.menu_icon_type,icon:e.menu_icon}}),n("span",{domProps:{innerHTML:t._s(e.menu_title)}}),1==e.link_external?n("i",{staticClass:"fa fa-external-link"},[t._v(" ")]):t._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.lastMenuItemOpen==e.id,expression:"$store.state.lastMenuItemOpen == menuItem.id"}],staticClass:"col-sm-2 text-center ls-space padding all-0 background white"},[n("i",{staticClass:"fa fa-chevron-right"},[t._v(" ")])])])])}),t._l(t.menu.submenus,function(e){return n("li",{key:e.id,staticClass:"list-group-item",class:t.checkIsOpen(e)?"menu-selected":"",on:{"!click":function(n){return n.stopPropagation(),t.setActiveMenuIndex(e)}}},[n("a",{staticClass:"ls-flex-row nowrap align-item-center align-content-center",class:t.checkIsOpen(e)?"ls-space margin bottom-5":"",attrs:{href:"#",title:t.reConvertHTML(e.description),"data-toggle":"tooltip"}},[n("div",{staticClass:"ls-space col-sm-10 padding all-0"},[n("menuicon",{attrs:{"icon-type":"fontawesome",icon:"arrow-right"}}),n("span",{domProps:{innerHTML:t._s(e.title)}})],1),n("div",{staticClass:"col-sm-2 text-center ls-space padding all-0",class:t.checkIsOpen(e)?"menu-open":""},[n("i",{staticClass:"fa fa-level-down"})])]),n("transition",{attrs:{name:"slide-fade-down"}},[t.checkIsOpen(e)?n("submenu",{attrs:{menu:e}}):t._e()],1)],1)})],2)},M=[],L=(n("a481"),{name:"submenu",components:{menuicon:k},mixins:[d],props:{menu:{type:[Object,Array],required:!0}},data:function(){return{menues:{}}},computed:{sortedMenuEntries:function(){return LS.ld.orderBy(this.menu.entries,function(t){return i()(t.ordering||999999)},["asc"])}},methods:{setActiveMenuItemIndex:function(t){t.id;return this.$store.commit("lastMenuItemOpen",t),this.$log.log("Opened Menuitem",t),!0},checkIsOpen:function(t){var e=this,n=this.$store.state.lastMenuOpen==t.id,s=!1;return LS.ld.each(t.submenus,function(t,n){s=e.$store.state.lastMenuOpen==t.id||s}),n||s||!1},setActiveMenuIndex:function(t){t.id;this.$store.commit("lastMenuOpen",t)},setOpenSubpanel:function(t){this.openSubpanelId=t,this.$emit("menuselected",t)},debugOut:function(t){return y()(t)},getLinkClass:function(t){var e="ls-flex-row nowrap ";return e+=t.pjax?"pjax ":" ",e+=this.$store.state.lastMenuItemOpen==t.id?"selected ":" ",e},reConvertHTML:function(t){var e=["'","©","Û","®","ž","Ü","Ÿ","Ý","$","Þ","%","¡","ß","¢","à","£","á","À","¤","â","Á","¥","ã","Â","¦","ä","Ã","§","å","Ä","¨","æ","Å","©","ç","Æ","ª","è","Ç","«","é","È","¬","ê","É","­","ë","Ê","®","ì","Ë","¯","í","Ì","°","î","Í","±","ï","Î","²","ð","Ï","³","ñ","Ð","´","ò","Ñ","µ","ó","Õ","¶","ô","Ö","·","õ","Ø","¸","ö","Ù","¹","÷","Ú","º","ø","Û","»","ù","Ü","@","¼","ú","Ý","½","û","Þ","€","¾","ü","ß","¿","ý","à","‚","À","þ","á","ƒ","Á","ÿ","å","„","Â","æ","…","Ã","ç","†","Ä","è","‡","Å","é","ˆ","Æ","ê","‰","Ç","ë","Š","È","ì","‹","É","í","Œ","Ê","î","Ë","ï","Ž","Ì","ð","Í","ñ","Î","ò","‘","Ï","ó","’","Ð","ô","“","Ñ","õ","”","Ò","ö","•","Ó","ø","–","Ô","ù","—","Õ","ú","˜","Ö","û","™","×","ý","š","Ø","þ","›","Ù","ÿ","œ","Ú"],n=["&#039;","&copy;","&#219;","&reg;","&#158;","&#220;","&#159;","&#221;","&#36;","&#222;","&#37;","&#161;","&#223;","&#162;","&#224;","&#163;","&#225;","&Agrave;","&#164;","&#226;","&Aacute;","&#165;","&#227;","&Acirc;","&#166;","&#228;","&Atilde;","&#167;","&#229;","&Auml;","&#168;","&#230;","&Aring;","&#169;","&#231;","&AElig;","&#170;","&#232;","&Ccedil;","&#171;","&#233;","&Egrave;","&#172;","&#234;","&Eacute;","&#173;","&#235;","&Ecirc;","&#174;","&#236;","&Euml;","&#175;","&#237;","&Igrave;","&#176;","&#238;","&Iacute;","&#177;","&#239;","&Icirc;","&#178;","&#240;","&Iuml;","&#179;","&#241;","&ETH;","&#180;","&#242;","&Ntilde;","&#181;","&#243;","&Otilde;","&#182;","&#244;","&Ouml;","&#183;","&#245;","&Oslash;","&#184;","&#246;","&Ugrave;","&#185;","&#247;","&Uacute;","&#186;","&#248;","&Ucirc;","&#187;","&#249;","&Uuml;","&#64;","&#188;","&#250;","&Yacute;","&#189;","&#251;","&THORN;","&#128;","&#190;","&#252","&szlig;","&#191;","&#253;","&agrave;","&#130;","&#192;","&#254;","&aacute;","&#131;","&#193;","&#255;","&aring;","&#132;","&#194;","&aelig;","&#133;","&#195;","&ccedil;","&#134;","&#196;","&egrave;","&#135;","&#197;","&eacute;","&#136;","&#198;","&ecirc;","&#137;","&#199;","&euml;","&#138;","&#200;","&igrave;","&#139;","&#201;","&iacute;","&#140;","&#202;","&icirc;","&#203;","&iuml;","&#142;","&#204;","&eth;","&#205;","&ntilde;","&#206;","&ograve;","&#145;","&#207;","&oacute;","&#146;","&#208;","&ocirc;","&#147;","&#209;","&otilde;","&#148;","&#210;","&ouml;","&#149;","&#211;","&oslash;","&#150;","&#212;","&ugrave;","&#151;","&#213;","&uacute;","&#152;","&#214;","&ucirc;","&#153;","&#215;","&yacute;","&#154;","&#216;","&thorn;","&#155;","&#217;","&yuml;","&#156;","&#218;"];return LS.ld.each(n,function(n,s){t=t.replace(n,e[s])}),t}},created:function(){},mounted:function(){this.updatePjaxLinks(),this.redoTooltips()}}),A=L,T=Object(g["a"])(A,O,M,!1,null,null,null),j=T.exports,I={name:"sidemenu",components:{menuicon:k,submenu:j},mixins:[d],props:{openSubpanelId:{type:Number}},data:function(){return{menues:{}}},computed:{sortedMenues:function(){return LS.ld.orderBy(this.$store.state.sidemenus,function(t){return i()(t.ordering||999999)},["asc"])}},methods:{sortedMenuEntries:function(t){var e=LS.ld.orderBy(t,function(t){return i()(t.ordering||999999)},["asc"]);return e},setActiveMenuIndex:function(t){t.id;this.$store.commit("lastMenuOpen",t)},setActiveMenuItemIndex:function(t){t.id;this.$store.commit("lastMenuItemOpen",t)},setOpenSubpanel:function(t){this.openSubpanelId=t,this.$emit("menuselected",t)},debugOut:function(t){return y()(t)}},created:function(){},mounted:function(){var t=this;this.updatePjaxLinks(),$(document).on("vue-reload-remote",function(){t.$forceUpdate()})}},P=I,B=Object(g["a"])(P,w,b,!1,null,null,null),G=B.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ls-flex-column fill"},t._l(t.sortedMenues,function(e){return n("div",{key:e.title,staticClass:"ls-space margin top-10",attrs:{title:e.title}},[n("div",{staticClass:"btn-group-vertical ls-space padding right-10"},t._l(t.sortedMenuEntries(e.entries),function(e,s){return n("a",{key:e.id,staticClass:"btn btn-icon",class:t.compileEntryClasses(e),attrs:{href:e.link,title:e.menu_description,target:e.link_external?"_blank":"_self","data-toggle":"tooltip"},on:{click:function(n){return t.setActiveMenuIndex(e)}}},["fontawesome"==e.menu_icon_type?[n("i",{staticClass:"quickmenuIcon fa",class:"fa-"+e.menu_icon})]:"image"==e.menu_icon_type?[n("img",{attrs:{width:"32px",src:e.menu_icon}})]:"iconclass"==e.menu_icon_type?[n("i",{staticClass:"quickmenuIcon",class:e.menu_icon})]:t._e()],2)}),0)])}),0)},D=[],E={mixins:[d],props:{menuEntries:{type:[Array,Object]},activeMenuIndex:{type:String}},data:function(){return{menues:{}}},computed:{sortedMenues:function(){return LS.ld.orderBy(this.$store.state.collapsedmenus,function(t){return i()(t.ordering||999999)},["asc"])}},methods:{sortedMenuEntries:function(t){var e=LS.ld.orderBy(t,function(t){return i()(t.ordering||999999)},["asc"]);return e},setActiveMenuIndex:function(t){t.id;this.$store.commit("lastMenuItemOpen",t)},compileEntryClasses:function(t){var e="";return this.$store.state.lastMenuItemOpen==t.id?e+=" btn-primary ":e+=" btn-default ",t.link_external||(e+=" pjax "),e}},created:function(){var t=this;this.menues=JSON.parse(t.$localStorage.get("collapsedmenues",y()([])))},mounted:function(){}},H=E,N=Object(g["a"])(H,R,D,!1,null,null,null),U=N.exports,W={components:{questionexplorer:v,sidemenu:G,quickmenu:U},mixins:[d],props:{user:{type:Number},translate:{type:Object},getQuestionsUrl:{type:String},getMenuUrl:{type:String},createQuestionGroupLink:{type:String},createQuestionLink:{type:String},updateOrderLink:{type:String},isActive:{type:String},basemenus:{type:Object}},data:function(){return{currentTab:"settings",activeMenuIndex:0,openSubpanelId:0,questiongroups:[],menues:[],collapsed:!1,sideBarWidth:"315",initialPos:{x:0,y:0},isMouseDown:!1,isMouseDownTimeOut:null,sidemenus:{},collapsedmenus:{},topmenus:{},bottommenus:{},sideBarHeight:"400px",showLoader:!1}},computed:{getSideBarWidth:function(){return this.$store.state.isCollapsed?"98":this.sideBarWidth},sortedMenus:function(){return LS.ld.orderBy(this.menues,function(t){return i()(t.order||999999)},["asc"])},showSideMenu:function(){return!this.$store.state.isCollapsed&&"settings"==this.$store.state.currentTab},showQuestionTree:function(){return!this.$store.state.isCollapsed&&"questiontree"==this.$store.state.currentTab},calculateSideBarMenuHeight:function(){var t=this.$store.state.sideBarHeight;return LS.ld.min(t,Math.floor(2*screen.height))+"px"},getWindowHeight:function(){return 2*screen.height+"px"},getloaderHeight:function(){return $("#sidebar").height()}},methods:{calculateHeight:function(t){t.$store.commit("changeSideBarHeight",$("#in_survey_common").height())},changedQuestionGroupOrder:function(){var t=this,e=this,n=LS.ld.map(this.$store.state.questiongroups,function(t,e){var n=LS.ld.map(t.questions,function(t,e){return{qid:t.qid,question:t.question,gid:t.gid,question_order:t.question_order}});return{gid:t.gid,group_name:t.group_name,group_order:t.group_order,questions:n}});this.$log.log("QuestionGroup order changed"),this.showLoader=!0,this.post(this.updateOrderLink,{grouparray:n,surveyid:this.$store.surveyid}).then(function(t){e.$log.log("questiongroups updated"),e.getQuestions().then(function(){e.showLoader=!1})},function(n){e.$log.error("questiongroups updating error!"),t.post(t.updateOrderLink,{surveyid:t.$store.surveyid}).then(function(){e.getQuestions().then(function(){e.showLoader=!1})})})},controlActiveLink:function(){var t=window.location.href,e=!1;LS.ld.each(this.$store.state.sidemenus,function(n,s){LS.ld.each(n.entries,function(n,s){e=LS.ld.endsWith(t,n.link)?n:e})});var n=!1;LS.ld.each(this.$store.state.collapsedmenus,function(e,s){LS.ld.each(e.entries,function(e,s){n=LS.ld.endsWith(t,e.link)?e:n})});var s=!1;LS.ld.each(this.$store.state.questiongroups,function(e,n){var i=new RegExp("questiongroups/sa/edit/surveyid/"+e.sid+"/gid/"+e.gid);s=i.test(t)||LS.ld.endsWith(t,e.link)?e:s});var i=!1;LS.ld.each(this.$store.state.questiongroups,function(e,n){LS.ld.each(e.questions,function(e,n){var s=new RegExp("editquestion/surveyid/"+e.sid+"/gid/"+e.gid+"/qid/"+e.qid);i=LS.ld.endsWith(t,e.link)||s.test(t)?e:i})}),this.$store.commit("closeAllMenus"),0!=e&&1!=this.$store.state.isCollapsed&&this.$store.commit("lastMenuItemOpen",e),0!=n&&1==this.$store.state.isCollapsed&&this.$store.commit("lastMenuItemOpen",n),0!=i&&this.$store.commit("lastQuestionOpen",i),0!=s&&(this.$store.commit("lastQuestionGroupOpen",s),this.$store.commit("addToQuestionGroupOpenArray",s))},editEntity:function(){this.setActiveMenuIndex(null,"question")},openEntity:function(){this.setActiveMenuIndex(null,"question")},changeTab:function(t){this.$store.commit("changeCurrentTab",t),this.currentTab=t},activeTab:function(t){return this.$store.state.currentTab===t},setActiveMenuIndex:function(t){this.$store.commit("lastMenuItemOpen",t),this.activeMenuIndex=t},setOpenSubpanel:function(t){this.openSubpanelId=t,this.$store.commit("lastMenuOpen",t),this.$emit("menuselected",t)},toggleCollapse:function(){this.$store.state.isCollapsed=!this.$store.state.isCollapsed,this.$store.commit("changeIsCollapsed",this.$store.state.isCollapsed),this.$store.state.isCollapsed?this.sideBarWidth="98":this.sideBarWidth=this.$store.state.sidebarwidth},mousedown:function(t){this.isMouseDown=!this.$store.state.isCollapsed,$("#sidebar").removeClass("transition-animate-width"),$("#pjax-content").removeClass("transition-animate-width")},mouseup:function(t){this.isMouseDown&&(this.isMouseDown=!1,this.$store.state.isCollapsed=!1,i()(this.sideBarWidth)<250&&!this.$store.state.isCollapsed?(this.toggleCollapse(),this.$store.commit("changeSidebarwidth","340")):this.$store.commit("changeSidebarwidth",this.sideBarWidth),$("#sidebar").addClass("transition-animate-width"),$("#pjax-content").removeClass("transition-animate-width"))},mouseleave:function(t){if(this.isMouseDown){var e=this;this.isMouseDownTimeOut=setTimeout(function(){e.mouseup(t)},1e3)}},mousemove:function(t,e){if(this.isMouseDown){if(0===t.screenX&&0===t.screenY)return;if(t.clientX>screen.width/2)return void this.$store.commit("maxSideBarWidth",!0);e.sideBarWidth=t.pageX+8+"px",this.$store.commit("changeSidebarwidth",this.sideBarWidth),this.$store.commit("maxSideBarWidth",!1),window.clearTimeout(e.isMouseDownTimeOut),e.isMouseDownTimeOut=null}},getQuestions:function(){var t=this;return this.questiongroups=[],this.get(this.getQuestionsUrl).then(function(e){t.$log.log("Questions",e),t.questiongroups=e.data.groups,t.$store.commit("updateQuestiongroups",t.questiongroups),t.$forceUpdate(),t.updatePjaxLinks()})},setBaseMenuPosition:function(t,e){switch(e){case"side":this.sidemenus=LS.ld.orderBy(t,function(t){return i()(t.order||999999)},["desc"]),this.$store.commit("updateSidemenus",this.sidemenus);break;case"collapsed":this.collapsedmenus=LS.ld.orderBy(t,function(t){return i()(t.order||999999)},["desc"]),this.$store.commit("updateCollapsedmenus",this.collapsedmenus);break;case"top":this.topmenus=LS.ld.orderBy(t,function(t){return i()(t.order||999999)},["desc"]),this.$store.commit("updateTopmenus",this.topmenus);break;case"bottom":this.bottommenus=LS.ld.orderBy(t,function(t){return i()(t.order||999999)},["desc"]),this.$store.commit("updateBottommenus",this.bottommenus);break}},getSidemenus:function(){var t=this;return this.sidemenus=[],this.get(this.getMenuUrl,{position:"side"}).then(function(e){t.$log.log("sidemenues",e),t.sidemenus=LS.ld.orderBy(e.data.menues,function(t){return i()(t.order||999999)},["desc"]),t.$store.commit("updateSidemenus",t.sidemenus),t.$forceUpdate(),t.updatePjaxLinks()})},getCollapsedmenus:function(){var t=this;return this.collapsedmenus=[],this.get(this.getMenuUrl,{position:"collapsed"}).then(function(e){t.$log.log("quickmenu",e),t.collapsedmenus=LS.ld.orderBy(e.data.menues,function(t){return i()(t.order||999999)},["desc"]),t.$store.commit("updateCollapsedmenus",t.collapsedmenus),t.$forceUpdate(),t.updatePjaxLinks()})},getTopmenus:function(){var t=this;return this.get(this.getMenuUrl,{position:"top"}).then(function(e){t.$log.log("topmenus",e),t.topmenus=LS.ld.orderBy(e.data.menues,function(t){return i()(t.order||999999)},["desc"]),t.$store.commit("updateTopmenus",t.topmenus),t.$forceUpdate(),t.updatePjaxLinks()})},getBottommenus:function(){var t=this;return this.get(this.getMenuUrl,{position:"bottom"}).then(function(e){t.$log.log("bottommenus",e),t.bottommenus=LS.ld.orderBy(e.data.menues,function(t){return i()(t.order||999999)},["desc"]),t.$store.commit("updateBottommenus",t.bottommenus),t.$forceUpdate(),t.updatePjaxLinks()})}},created:function(){var t=this;t.$store.commit("setSurveyActiveState",1===i()(this.isActive)),this.currentTab=t.$store.state.currentTab,this.activeMenuIndex=this.$store.state.lastMenuOpen,this.$store.state.isCollapsed?this.sideBarWidth="98":this.sideBarWidth=t.$store.state.sidebarwidth,LS.ld.each(this.basemenus,this.setBaseMenuPosition),this.getQuestions(),this.getSidemenus(),this.getCollapsedmenus(),this.getTopmenus(),this.getBottommenus()},mounted:function(){var t=this,e=this;$(document).trigger("sidebar:mounted"),e.calculateHeight(e),window.addEventListener("resize",function(){e.calculateHeight(e)}),$(document).on("vue-sidemenu-update-link",function(){t.controlActiveLink()}),$(document).on("vue-reload-remote",function(){t.getQuestions(),t.getSidemenus(),t.getCollapsedmenus(),t.getTopmenus(),t.getBottommenus(),t.$forceUpdate()}),$(document).on("vue-redraw",function(){t.getQuestions(),t.getSidemenus(),t.getCollapsedmenus(),t.getTopmenus(),t.getBottommenus(),t.$forceUpdate()}),this.controlActiveLink(),this.$forceUpdate(),this.updatePjaxLinks(),$("body").on("mousemove",function(t){e.mousemove(t,e)})}},z=W,V=(n("7582"),Object(g["a"])(z,o,r,!1,null,"1eca012a",null)),J=V.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menubar surveybar",attrs:{id:"surveybarid"}},[n("div",{staticClass:"row container-fluid row-button-margin-bottom"},[n("div",{staticClass:"col-md-12 col-xs-6"},[n("a",{staticClass:"btn btn-success",attrs:{id:"ls-activate-survey",href:"/index.php/admin/survey/sa/activate/surveyid/229189",role:"button"}},[t._v("Activate this survey")]),t._m(0),t._m(1),n("dropdown"),t._m(2),t._m(3),t._m(4),t._m(5)],1),n("div",{staticClass:" col-md-4 text-right"})])])},Y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"btn btn-default  btntooltip",attrs:{href:"/index.php/229189?newtest=Y&lang=en",role:"button",accesskey:"d",target:"_blank","data-original-title":"",title:""}},[n("span",{staticClass:"icon-do"}),t._v(" Preview survey\n            ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group hidden-xs"},[n("button",{staticClass:"btn btn-default dropdown-toggle limebutton",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[n("span",{staticClass:"icon-tools"}),t._v(" Tools\n                    "),n("span",{staticClass:"caret"})]),n("ul",{staticClass:"dropdown-menu"},[n("li",[n("a",{attrs:{href:"/index.php/admin/survey/sa/delete/surveyid/229189"}},[n("span",{staticClass:"fa fa-trash"}),t._v("\n                            Delete survey\n                        ")])]),n("li",[n("a",{attrs:{href:"#",onclick:"alert('Currently there are no additional languages configured for this survey.');"}},[n("span",{staticClass:"fa fa-language"}),t._v("\n                            Quick-translation ")])]),n("li",[n("a",{attrs:{href:"#",onclick:"alert('Currently there are no conditions configured for this survey.');"}},[n("span",{staticClass:"icon-resetsurveylogic"}),t._v("\n                            Reset conditions\n                        ")])]),n("li",[n("a",{attrs:{href:"/index.php/admin/expressions/sa/survey_logic_file/sid/229189"}},[n("span",{staticClass:"icon-expressionmanagercheck"}),t._v("\n                            Survey logic file\n                        ")])]),n("li",{staticClass:"divider",attrs:{role:"separator"}}),n("li",{staticClass:"dropdown-header"},[t._v("\n                        Regenerate question codes\n                    ")]),n("li",[n("a",{attrs:{href:"/index.php/admin/survey/sa/regenquestioncodes/surveyid/229189/subaction/straight"}},[n("span",{staticClass:"icon-resetsurveylogic"}),t._v("\n                            Straight\n                        ")])]),n("li",[n("a",{attrs:{href:"/index.php/admin/survey/sa/regenquestioncodes/surveyid/229189/subaction/bygroup"}},[n("span",{staticClass:"icon-resetsurveylogic"}),t._v("\n                            By question group\n                        ")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"btn btn-default  btntooltip hidden-xs",attrs:{href:"/index.php/admin/tokens/sa/index/surveyid/229189",role:"button","data-original-title":"",title:""}},[n("span",{staticClass:"fa fa-user"}),t._v("\n                Survey participants ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group"},[n("button",{staticClass:"readonly btn btn-default limebutton",attrs:{type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"","data-original-title":"This survey is not active - no responses are available."}},[n("span",{staticClass:"icon-responses"}),t._v("\n                    Responses\n                    "),n("span",{staticClass:"caret"})]),n("ul",{staticClass:"dropdown-menu"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"btn btn-default hidden-sm  hidden-md hidden-lg",attrs:{href:"/index.php/admin/survey/sa/listquestiongroups/surveyid/229189"}},[n("span",{staticClass:"fa fa-list"}),t._v("\n                List question groups ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"btn btn-default hidden-sm  hidden-md hidden-lg",attrs:{href:"/index.php/admin/survey/sa/listquestions/surveyid/229189"}},[n("span",{staticClass:"fa fa-list"}),t._v("\n                List questions ")])}],Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group hidden-xs"},[n("button",{staticClass:"btn btn-default dropdown-toggle limebutton",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[n("span",{staticClass:"icon-display_export"}),t._v("\n        Display / Export\n        "),n("span",{staticClass:"caret"})]),n("ul",{staticClass:"dropdown-menu"},[n("li",{staticClass:"dropdown-header"},[t._v(" Export...")]),n("li",[n("a",{attrs:{href:"/index.php/admin/export/sa/survey/action/exportstructurexml/surveyid/229189"}},[n("span",{staticClass:"icon-export"}),t._v("\n                Survey structure (.lss) ")])]),n("li",[n("a",{attrs:{href:"#",onclick:"alert('You can only archive active surveys.');"}},[n("span",{staticClass:"icon-export"}),t._v("\n                Survey archive (.lsa) ")])]),n("li",[n("a",{attrs:{href:"/index.php/admin/export/sa/survey/action/exportstructurequexml/surveyid/229189"}},[n("span",{staticClass:"icon-export"}),t._v("\n                queXML format (*.xml) ")])]),n("li",[n("a",{attrs:{href:"/index.php/admin/export/sa/quexml/surveyid/229189"}},[n("span",{staticClass:"icon-export"}),t._v("\n                queXML PDF export ")])]),n("li",[n("a",{attrs:{href:"/index.php/admin/export/sa/survey/action/exportstructuretsv/surveyid/229189"}},[n("span",{staticClass:"icon-export"}),t._v("\n                Tab-separated-values format (*.txt) ")])]),n("li",[n("a",{attrs:{href:"/index.php/admin/export/sa/survey/action/exportprintables/surveyid/229189"}},[n("span",{staticClass:"icon-export"}),t._v("\n                Printable survey (*.html) ")])]),n("li",[n("a",{attrs:{target:"_blank",href:"/index.php/admin/printablesurvey/sa/index/surveyid/229189"}},[n("span",{staticClass:"fa fa-print"}),t._v("\n                Printable survey ")])])])])}],K={props:{mainHref:{type:String},mainTitle:{type:String}}},tt=K,et=Object(g["a"])(tt,Z,F,!1,null,null,null),nt=et.exports,st={components:{dropdown:nt},props:{mainHref:{type:String},mainTitle:{type:String}}},it=st,at=Object(g["a"])(it,X,Y,!1,null,null,null),ot=(at.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("table",{staticClass:"table dataTable table-striped table-borders",attrs:{id:"urlparams"}},[n("thead",[n("tr",[n("th",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(t._s(t.translate.table.idColumn))]),n("th",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[t._v(t._s(t.translate.table.actionColumn))]),n("th",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[t._v(t._s(t.translate.table.parameterColumn))]),n("th",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[t._v(t._s(t.translate.table.questionColumn))]),n("th",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(t._s(t.translate.table.sidColumn))]),n("th",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(t._s(t.translate.table.qidColumn))]),n("th",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(t._s(t.translate.table.sqidColumn))])])]),n("tbody",t._l(t.parameterRows,function(e){return n("tr",{key:e.id,attrs:{"data-rowdata":JSON.stringify(e)}},[n("td",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(" "+t._s(e.id)+" ")]),n("td",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[n("div",[n("button",{staticClass:"btn btn-sm btn-default",on:{click:function(n){return n.preventDefault(),t.editRow(e)}}},[n("i",{staticClass:"fa fa-edit"})]),n("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(n){return n.preventDefault(),t.deleteRow(e)}}},[n("i",{staticClass:"fa fa-trash"})])])]),n("td",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[t._v(" "+t._s(e.parameter)+" ")]),n("td",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],domProps:{innerHTML:t._s(e.targetQuestionText+(""!=e.sqid?" => "+e.targetSubQuestionText:""))}}),n("td",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(" "+t._s(e.sid)+" ")]),n("td",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(" "+t._s(e.qid)+" ")]),n("td",{directives:[{name:"show",rawName:"v-show",value:t.showAllColumns,expression:"showAllColumns"}]},[t._v(" "+t._s(e.sqid)+" ")])])}),0)]),n("input",{attrs:{type:"hidden",id:"allurlparams",name:"allurlparams"},domProps:{value:t.combinedValues}})])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-right"},[n("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.addNewParam(e)}}},[t._v(t._s(t.translate.table.addParameter))])])]),n("div",{staticClass:"modal fade",class:{in:t.modalShown},attrs:{id:"lspanelintegration-parameterPopup",role:"dialog"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("parameterpopup",{attrs:{translate:t.translate,questions:t.questions,"is-new":t.isNew,"parameter-row":t.currentParameter},on:{updateparam:t.paramUpdated,canceledit:t.toggleModal}})],1)]),n("div",{staticClass:"modal fade",attrs:{id:"lspanelintegration-deletePopup",role:"dialog"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body"},[t._v("\n                    "+t._s(t.translate.popup.sureToDelete)+"\n                ")]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.cancelDelete(e)}}},[t._v(t._s(t.translate.popup.deleteCancel))]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.confirmDelete(e)}}},[t._v(t._s(t.translate.popup.deleteConfirm))])])])])])])}),rt=[],ut=n("479a"),lt=ut["a"],dt=Object(g["a"])(lt,ot,rt,!1,null,null,null),ct=dt.exports,pt=n("2f62"),mt=n("bfa9"),ht=n("ead5"),gt=n.n(ht);a["a"].use(gt.a),a["a"].use(pt["a"]);var ft=function(t){var e=new mt["a"]({key:"limesurveyadminpanel_"+t,storage:window.localStorage}),n={surveyid:0,language:"",maxHeight:0,inSurveyViewHeight:400,sideBodyHeight:"100%",sideBarHeight:400,currentUser:t,currentTab:"settings",sidebarwidth:380,maximalSidebar:!1,isCollapsed:!1,pjax:null,pjaxLoading:!1,lastMenuOpen:!1,lastMenuItemOpen:!1,lastQuestionOpen:!1,lastQuestionGroupOpen:!1,questionGroupOpenArray:[],questiongroups:[],collapsedmenus:null,sidemenus:null,topmenus:null,bottommenus:null,surveyActiveState:!1};return new pt["a"].Store({state:n,plugins:[e.plugin],getters:{substractContainer:function(t){var e=100*(1-i()(t.sidebarwidth)/$("#vue-apps-main-container").width()),n=100*(1-i()("98px")/$("#vue-apps-main-container").width());return Math.floor(t.isCollapsed?n:e)+"%"},sideBarSize:function(t){var e=i()(t.sidebarwidth)/$("#vue-apps-main-container").width()*100,n=i()(98)/$("#vue-apps-main-container").width()*100;return Math.ceil(t.isCollapsed?n:e)+"%"}},mutations:{updateSurveyId:function(t,e){t.surveyid=e},changeLanguage:function(t,e){t.language=e},changeCurrentTab:function(t,e){t.currentTab=e},changeSidebarwidth:function(t,e){t.sidebarwidth=e},maxSideBarWidth:function(t,e){t.maximalSidebar=e},changeIsCollapsed:function(t,e){t.isCollapsed=e,$(document).trigger("vue-sidemenu-update-link")},changeMaxHeight:function(t,e){t.maxHeight=e},changeSideBarHeight:function(t,e){t.sideBarHeight=e},changeInSurveyViewHeight:function(t,e){t.inSurveyViewHeight=e},changeSideBodyHeight:function(t,e){t.sideBodyHeight=e+"px"||!1},changeCurrentUser:function(t,e){t.currentUser=e},closeAllMenus:function(t){t.lastMenuOpen=!1,t.lastMenuItemOpen=!1,t.lastQuestionGroupOpen=!1,t.lastQuestionOpen=!1},lastMenuItemOpen:function(t,e){t.lastMenuOpen=e.menu_id,t.lastMenuItemOpen=e.id,t.lastQuestionGroupOpen=!1,t.lastQuestionOpen=!1},lastMenuOpen:function(t,e){t.lastMenuOpen=e.id,t.lastQuestionOpen=!1,t.lastMenuItemOpen=!1},lastQuestionOpen:function(t,e){t.lastQuestionGroupOpen=e.gid,t.lastQuestionOpen=e.qid,t.lastMenuItemOpen=!1},lastQuestionGroupOpen:function(t,e){t.lastQuestionGroupOpen=e.gid,t.lastQuestionOpen=!1},questionGroupOpenArray:function(t,e){t.questionGroupOpenArray=e},updateQuestiongroups:function(t,e){t.questiongroups=e},addToQuestionGroupOpenArray:function(t,e){t.questionGroupOpenArray.push(e.gid)},updateCollapsedmenus:function(t,e){t.collapsedmenus=e},updateSidemenus:function(t,e){t.sidemenus=e},updateTopmenus:function(t,e){t.topmenus=e},updateBottommenus:function(t,e){t.bottommenus=e},updatePjax:function(t){$(document).trigger("pjax:refresh")},setSurveyActiveState:function(t,e){t.surveyActiveState=!!e}}})},vt=ft,wt=n("e53a"),bt=n.n(wt);a["a"].config.ignoredElements=["x-test"],a["a"].use(bt.a),a["a"].mixin({methods:{updatePjaxLinks:function(){this.$store.commit("updatePjax")},redoTooltips:function(){window.LS.doToolTip()}}});var _t=function(){var t=vt(window.LS.globalUserId),e={},n=function(t){var e=$("#vue-apps-main-container").data("surveyid");0!=e&&t.commit("updateSurveyId",e)},s=function(){var t=$("body").find("nav").first().height(),n=$("body").find("footer").last().height(),s=$(".menubar").outerHeight(),a=t+n+s+25,o=window.innerHeight,r=o-a,u=100*(1-i()($("#sidebar").width())/$("#vue-apps-main-container").width()),l=100*(1-i()("98px")/$("#vue-apps-main-container").width()),d=Math.floor($("#sidebar").data("collapsed")?u:l)+"%";console.ls.log({adminmenuHeight:t,footerHeight:n,menuHeight:s,inSurveyOffset:a,windowHeight:o,inSurveyViewHeight:r,bodyWidth:u,collapsedBodyWidth:l,inSurveyViewWidth:d}),e["surveyViewHeight"]=r,e["surveyViewWidth"]=d,$("#pjax-content").css({"max-width":d})},o=function(){return new a["a"]({el:"#vue-sidebar-container",store:t,components:{sidebar:J},created:function(){var t=this;$(document).on("vue-sidebar-collapse",function(){t.$store.commit("changeIsCollapsed",!0)})},mounted:function(){var t=this;n(this.$store);var e=$("#in_survey_common").height()-35||400;this.$store.commit("changeMaxHeight",e),this.updatePjaxLinks(),$(document).on("vue-redraw",function(){t.$forceUpdate(),t.updatePjaxLinks()}),$(document).trigger("vue-reload-remote"),window.setInterval(function(){$(document).trigger("vue-reload-remote")},3e5)}})},r=function(){return new a["a"]({el:"#vue-parameter-table-container",store:t,components:{lspanelparametertable:ct},mounted:function(){n(this.$store)}})},u=function(){e.reloadcounter=5,$(document).off("pjax:send.aploading").on("pjax:send.aploading",function(){$('<div id="pjaxClickInhibitor"></div>').appendTo("body"),$(".ui-dialog.ui-corner-all.ui-widget.ui-widget-content.ui-front.ui-draggable.ui-resizable").remove(),$("#pjax-file-load-container").find("div").css({width:"20%",display:"block"}),LS.adminpanel.reloadcounter--}),$(document).off("pjax:error.aploading").on("pjax:error.aploading",function(t){console.ls.log(t)}),$(document).off("pjax:complete.aploading").on("pjax:complete.aploading",function(){0===LS.adminpanel.reloadcounter&&location.reload()}),$(document).off("pjax:scriptcomplete.aploading").on("pjax:scriptcomplete.aploading",function(){$("#pjax-file-load-container").find("div").css("width","100%"),$("#pjaxClickInhibitor").fadeOut(400,function(){$(this).remove()}),$(document).trigger("vue-resize-height"),$(document).trigger("vue-reload-remote"),setTimeout(function(){$("#pjax-file-load-container").find("div").css({width:"0%",display:"none"})},2200)})},l=function(){window.singletonPjax(),document.getElementById("vue-sidebar-container")&&(e["sidemenu"]=o()),document.getElementById("vue-parameter-table-container")&&(e["parameterTable"]=r()),$(document).on("click","ul.pagination>li>a",function(){$(document).trigger("pjax:refresh")}),s(),window.addEventListener("resize",LS.ld.debounce(s,300)),$(document).on("vue-resize-height",LS.ld.debounce(s,300)),u()};return LS.adminCore.addToNamespace(e,"adminpanel"),l};window.AdminPanel=window.AdminPanel||_t(),window.LS.adminCore.appendToLoad(window.AdminPanel)},7582:function(t,e,n){"use strict";var s=n("940d"),i=n.n(s);i.a},"8c57":function(t,e,n){"use strict";var s=n("2eab"),i=n.n(s);i.a},"940d":function(t,e,n){},a3f7:function(t,e,n){"use strict";n.r(e);n("6b54"),n("28a5"),n("f499"),n("cadf"),n("551c"),n("f751"),n("097d");$("#copysurveyform").submit(i);function s(t){$("#preview-image-container").html('<div style="height:200px;" class="ls-flex ls-flex-column align-content-center align-items-center"><i class="fa fa-spinner fa-spin fa-3x fa-fw"></i></div>'),$.ajax({url:t.data("updateurl"),data:{templatename:t.val()},method:"POST",dataType:"json",success:function(t){$("#preview-image-container").html(t.image)},error:console.ls.error})}function i(){var t="";if(""==$("#copysurveylist").val()&&(t+=sSelectASurveyMessage),""==$("#copysurveyname").val()&&(t=t+"\n\r"+sSelectASurveyName),""!=t)return alert(t),!1}$(document).on("click","[data-copy] :submit",function(){$("form :input[value='"+$(this).val()+"']").click()}),$(document).on("ready  pjax:scriptcomplete",function(){$("#template").on("change keyup",function(t){console.ls.log("TEMPLATECHANGE",t),s($(this))}),$("[data-copy]").each(function(){$(this).html($("#"+$(this).data("copy")).html())});$("#tabs").on("tabsactivate",function(t,e){e.newTab.index()>4?$("#btnSave").hide():$("#btnSave").show()})})},e53a:function(t,e){e.install=function(t){window.debugState.backend?(console.ls.trace("The systen is currently in debug mode."),t.prototype.$log=console.ls):(console.log("The systen is currently in production mode."),t.prototype.$log=console.ls.silent)}}});
//# sourceMappingURL=adminpanel.js.map